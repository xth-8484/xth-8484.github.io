<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title></title>
    <link href="/2025/01/02/Git%E6%8A%80%E5%B7%A7/"/>
    <url>/2025/01/02/Git%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h1 id="Gitçš„å¥‡æŠ€æ·«å·§-see-no-evil"><a href="#Gitçš„å¥‡æŠ€æ·«å·§-see-no-evil" class="headerlink" title="Gitçš„å¥‡æŠ€æ·«å·§:see_no_evil:"></a>Gitçš„å¥‡æŠ€æ·«å·§:see_no_evil:</h1><blockquote><p>Gitå¸¸ç”¨å‘½ä»¤é›†åˆï¼ŒForkäº<a href="https://github.com/git-tips/tips">tips</a>é¡¹ç›®</p></blockquote><p>Gitæ˜¯ä¸€ä¸ª â€œåˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†å·¥å…·â€ï¼Œç®€å•çš„ç†è§£ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼šå¤§å®¶åœ¨å†™ä¸œè¥¿çš„æ—¶å€™éƒ½ç”¨è¿‡ â€œå›æ’¤â€ è¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å›æ’¤åªèƒ½å›æ’¤å‡ æ­¥ï¼Œå‡å¦‚æƒ³è¦æ‰¾å›æˆ‘ä¸‰å¤©ä¹‹å‰çš„ä¿®æ”¹ï¼Œå…‰ç”¨ â€œå›æ’¤â€ æ˜¯æ‰¾ä¸å›æ¥çš„ã€‚è€Œ â€œç‰ˆæœ¬ç®¡ç†å·¥å…·â€ èƒ½è®°å½•æ¯æ¬¡çš„ä¿®æ”¹ï¼Œåªè¦æäº¤åˆ°ç‰ˆæœ¬ä»“åº“ï¼Œä½ å°±å¯ä»¥æ‰¾åˆ°ä¹‹å‰ä»»ä½•æ—¶åˆ»çš„çŠ¶æ€ï¼ˆæ–‡æœ¬çŠ¶æ€ï¼‰ã€‚</p><p>ä¸‹é¢çš„å†…å®¹å°±æ˜¯åˆ—ä¸¾äº†å¸¸ç”¨çš„ Git å‘½ä»¤å’Œä¸€äº›å°æŠ€å·§ï¼Œå¯ä»¥é€šè¿‡ â€œé¡µé¢å†…æŸ¥æ‰¾â€ çš„æ–¹å¼è¿›è¡Œå¿«é€ŸæŸ¥è¯¢ï¼š<code>Ctrl/Command+f</code>ã€‚</p><h2 id="å¼€å·å¿…è¯»"><a href="#å¼€å·å¿…è¯»" class="headerlink" title="å¼€å·å¿…è¯»"></a>å¼€å·å¿…è¯»</h2><p><em>å¦‚æœä¹‹å‰æœªä½¿ç”¨è¿‡ Gitï¼Œå¯ä»¥å­¦ä¹  <a href="http://rogerdudler.github.io/git-guide/index.zh.html">Git å°ç™½æ•™ç¨‹</a>å…¥é—¨</em></p><ol><li><strong>ä¸€å®šè¦å…ˆæµ‹è¯•å‘½ä»¤çš„æ•ˆæœå</strong>ï¼Œå†ç”¨äºå·¥ä½œç¯å¢ƒä¸­ï¼Œä»¥é˜²é€ æˆä¸èƒ½å¼¥è¡¥çš„åæœï¼<strong>åˆ°æ—¶å€™åˆ«æ‹¿ç€ç åˆ€æ¥æ‰¾æˆ‘</strong></li><li>æ‰€æœ‰çš„å‘½ä»¤éƒ½åœ¨<code>git version 2.7.4 (Apple Git-66)</code>ä¸‹æµ‹è¯•é€šè¿‡</li><li>ç»Ÿä¸€æ¦‚å¿µï¼š<ul><li>å·¥ä½œåŒºï¼šæ”¹åŠ¨ï¼ˆå¢åˆ æ–‡ä»¶å’Œå†…å®¹ï¼‰</li><li>æš‚å­˜åŒºï¼šè¾“å…¥å‘½ä»¤ï¼š<code>git add æ”¹åŠ¨çš„æ–‡ä»¶å</code>ï¼Œæ­¤æ¬¡æ”¹åŠ¨å°±æ”¾åˆ°äº† â€˜æš‚å­˜åŒºâ€™</li><li>æœ¬åœ°ä»“åº“(ç®€ç§°ï¼šæœ¬åœ°)ï¼šè¾“å…¥å‘½ä»¤ï¼š<code>git commit æ­¤æ¬¡ä¿®æ”¹çš„æè¿°</code>ï¼Œæ­¤æ¬¡æ”¹åŠ¨å°±æ”¾åˆ°äº† â€™æœ¬åœ°ä»“åº“â€™ï¼Œæ¯ä¸ª commitï¼Œæˆ‘å«å®ƒä¸ºä¸€ä¸ª â€˜ç‰ˆæœ¬â€™ã€‚</li><li>è¿œç¨‹ä»“åº“(ç®€ç§°ï¼šè¿œç¨‹)ï¼šè¾“å…¥å‘½ä»¤ï¼š<code>git push è¿œç¨‹ä»“åº“</code>ï¼Œæ­¤æ¬¡æ”¹åŠ¨å°±æ”¾åˆ°äº† â€˜è¿œç¨‹ä»“åº“â€™ï¼ˆGitHub ç­‰)</li><li>commit-idï¼šè¾“å‡ºå‘½ä»¤ï¼š<code>git log</code>ï¼Œæœ€ä¸Šé¢é‚£è¡Œ <code>commit xxxxxx</code>ï¼Œåé¢çš„å­—ç¬¦ä¸²å°±æ˜¯ commit-id</li></ul></li><li>å¦‚æœå–œæ¬¢è¿™ä¸ªé¡¹ç›®ï¼Œæ¬¢è¿ Starã€æäº¤ Prã€<a href="https://github.com/521xueweihan/git-tips/issues">åé¦ˆé—®é¢˜</a>ğŸ˜Š</li></ol><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul><li><a href="#%E5%B1%95%E7%A4%BA%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF">å±•ç¤ºå¸®åŠ©ä¿¡æ¯</a></li><li><a href="#%E5%9B%9E%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E7%8A%B6%E6%80%81">å›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€</a></li><li><a href="#%E9%87%8D%E8%AE%BE%E7%AC%AC%E4%B8%80%E4%B8%AA-commit">é‡è®¾ç¬¬ä¸€ä¸ªcommit</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E6%9A%82%E5%AD%98%E5%8C%BA%E7%9A%84%E4%B8%8D%E5%90%8C">å±•ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¸åŒ</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%9A%82%E5%AD%98%E5%8C%BA%E5%92%8C%E6%9C%80%E8%BF%91%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%8D%E5%90%8C">å±•ç¤ºæš‚å­˜åŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%9A%82%E5%AD%98%E5%8C%BA%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E6%9C%80%E8%BF%91%E7%89%88%E6%9C%AC%E7%9A%84%E4%B8%8D%E5%90%8C">å±•ç¤ºæš‚å­˜åŒºã€å·¥ä½œåŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ</a></li><li><a href="#%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2%E5%88%B0%E4%B8%8A%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF">å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%B7%B2%E7%BB%8F%E5%90%88%E5%B9%B6%E5%88%B0-master-%E7%9A%84%E5%88%86%E6%94%AF">åˆ é™¤å·²ç»åˆå¹¶åˆ° master çš„åˆ†æ”¯</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF%E5%85%B3%E8%81%94%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%83%85%E5%86%B5">å±•ç¤ºæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“çš„æƒ…å†µ</a></li><li><a href="#%E5%85%B3%E8%81%94%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF">å…³è”è¿œç¨‹åˆ†æ”¯</a></li><li><a href="#%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF">åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</a></li><li><a href="#%E5%88%97%E5%87%BA%E6%9C%AC%E5%9C%B0%E5%92%8C%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF">åˆ—å‡ºæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF">åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯</a></li><li><a href="#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF">ä»è¿œç¨‹åˆ†æ”¯ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF">åˆ é™¤æœ¬åœ°åˆ†æ”¯</a></li><li><a href="#%E5%88%A0%E9%99%A4%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF">åˆ é™¤è¿œç¨‹åˆ†æ”¯</a></li><li><a href="#%E9%87%8D%E5%91%BD%E5%90%8D%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF">é‡å‘½åæœ¬åœ°åˆ†æ”¯</a></li><li><a href="#%E6%9F%A5%E7%9C%8B%E6%A0%87%E7%AD%BE">æŸ¥çœ‹æ ‡ç­¾</a></li><li><a href="#%E6%9F%A5%E7%9C%8B%E6%A0%87%E7%AD%BE%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF">æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯</a></li><li><a href="#%E6%9C%AC%E5%9C%B0%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE">æœ¬åœ°åˆ›å»ºæ ‡ç­¾</a></li><li><a href="#%E6%8E%A8%E9%80%81%E6%A0%87%E7%AD%BE%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%9C%AC%E5%9C%B0%E6%A0%87%E7%AD%BE">åˆ é™¤æœ¬åœ°æ ‡ç­¾</a></li><li><a href="#%E5%88%A0%E9%99%A4%E8%BF%9C%E7%A8%8B%E6%A0%87%E7%AD%BE">åˆ é™¤è¿œç¨‹æ ‡ç­¾</a></li><li><a href="#%E5%88%87%E5%9B%9E%E5%88%B0%E6%9F%90%E4%B8%AA%E6%A0%87%E7%AD%BE">åˆ‡å›åˆ°æŸä¸ªæ ‡ç­¾</a></li><li><a href="#%E6%94%BE%E5%BC%83%E5%B7%A5%E4%BD%9C%E5%8C%BA%E7%9A%84%E4%BF%AE%E6%94%B9">æ”¾å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹</a></li><li><a href="#%E6%81%A2%E5%A4%8D%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%87%E4%BB%B6">æ¢å¤åˆ é™¤çš„æ–‡ä»¶</a></li><li><a href="#%E4%BB%A5%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AA-commit-%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%98%E5%8E%9F%E6%9F%90%E4%B8%80%E4%B8%AA-commit-%E7%9A%84%E4%BF%AE%E6%94%B9">ä»¥æ–°å¢ä¸€ä¸ª commit çš„æ–¹å¼è¿˜åŸæŸä¸€ä¸ª commit çš„ä¿®æ”¹</a></li><li><a href="#%E5%9B%9E%E5%88%B0%E6%9F%90%E4%B8%AA-commit-%E7%9A%84%E7%8A%B6%E6%80%81%E5%B9%B6%E5%88%A0%E9%99%A4%E5%90%8E%E9%9D%A2%E7%9A%84-commit">å›åˆ°æŸä¸ª commit çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤åé¢çš„ commit</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E4%B8%8A%E4%B8%80%E4%B8%AA-commit-%E7%9A%84%E6%8F%8F%E8%BF%B0">ä¿®æ”¹ä¸Šä¸€ä¸ª commit çš„æè¿°</a></li><li><a href="#%E6%9F%A5%E7%9C%8B-commit-%E5%8E%86%E5%8F%B2">æŸ¥çœ‹ commit å†å²</a></li><li><a href="#%E6%98%BE%E7%A4%BA%E6%9C%AC%E5%9C%B0%E6%9B%B4%E6%96%B0%E8%BF%87-head-%E7%9A%84-git-%E5%91%BD%E4%BB%A4%E8%AE%B0%E5%BD%95">æ˜¾ç¤ºæœ¬åœ°æ›´æ–°è¿‡ HEAD çš„ git å‘½ä»¤è®°å½•</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E4%BD%9C%E8%80%85%E5%90%8D">ä¿®æ”¹ä½œè€…å</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84-url">ä¿®æ”¹è¿œç¨‹ä»“åº“çš„ url</a></li><li><a href="#%E5%A2%9E%E5%8A%A0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">å¢åŠ è¿œç¨‹ä»“åº“</a></li><li><a href="#%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä»“åº“</a></li><li><a href="#%E6%9F%A5%E7%9C%8B%E4%B8%A4%E4%B8%AA%E6%98%9F%E6%9C%9F%E5%86%85%E7%9A%84%E6%94%B9%E5%8A%A8">æŸ¥çœ‹ä¸¤ä¸ªæ˜ŸæœŸå†…çš„æ”¹åŠ¨</a></li><li><a href="#%E6%8A%8A-A-%E5%88%86%E6%94%AF%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA-commit-%E6%94%BE%E5%88%B0-B-%E5%88%86%E6%94%AF%E4%B8%8A">æŠŠ A åˆ†æ”¯çš„æŸä¸€ä¸ª commitï¼Œæ”¾åˆ° B åˆ†æ”¯ä¸Š</a></li><li><a href="#%E7%BB%99-git-%E5%91%BD%E4%BB%A4%E8%B5%B7%E5%88%AB%E5%90%8D">ç»™ git å‘½ä»¤èµ·åˆ«å</a></li><li><a href="#%E5%AD%98%E5%82%A8%E5%BD%93%E5%89%8D%E7%9A%84%E4%BF%AE%E6%94%B9%E4%BD%86%E4%B8%8D%E7%94%A8%E6%8F%90%E4%BA%A4-commit">å­˜å‚¨å½“å‰çš„ä¿®æ”¹ï¼Œä½†ä¸ç”¨æäº¤ commit</a></li><li><a href="#%E4%BF%9D%E5%AD%98%E5%BD%93%E5%89%8D%E7%8A%B6%E6%80%81%E5%8C%85%E6%8B%AC-untracked-%E7%9A%84%E6%96%87%E4%BB%B6">ä¿å­˜å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬ untracked çš„æ–‡ä»¶</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89-stashes">å±•ç¤ºæ‰€æœ‰ stashes</a></li><li><a href="#%E5%9B%9E%E5%88%B0%E6%9F%90%E4%B8%AA-stash-%E7%9A%84%E7%8A%B6%E6%80%81">å›åˆ°æŸä¸ª stash çš„çŠ¶æ€</a></li><li><a href="#%E5%9B%9E%E5%88%B0%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA-stash-%E7%9A%84%E7%8A%B6%E6%80%81%E5%B9%B6%E5%88%A0%E9%99%A4%E8%BF%99%E4%B8%AA-stash">å›åˆ°æœ€åä¸€ä¸ª stash çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤è¿™ä¸ª stash</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E7%9A%84-stash">åˆ é™¤æ‰€æœ‰çš„ stash</a></li><li><a href="#%E4%BB%8E-stash-%E4%B8%AD%E6%8B%BF%E5%87%BA%E6%9F%90%E4%B8%AA%E6%96%87%E4%BB%B6%E7%9A%84%E4%BF%AE%E6%94%B9">ä» stash ä¸­æ‹¿å‡ºæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89-tracked-%E7%9A%84%E6%96%87%E4%BB%B6">å±•ç¤ºæ‰€æœ‰ tracked çš„æ–‡ä»¶</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89-untracked-%E7%9A%84%E6%96%87%E4%BB%B6">å±•ç¤ºæ‰€æœ‰ untracked çš„æ–‡ä»¶</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89%E5%BF%BD%E7%95%A5%E7%9A%84%E6%96%87%E4%BB%B6">å±•ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶</a></li><li><a href="#%E5%BC%BA%E5%88%B6%E5%88%A0%E9%99%A4-untracked-%E7%9A%84%E6%96%87%E4%BB%B6">å¼ºåˆ¶åˆ é™¤ untracked çš„æ–‡ä»¶</a></li><li><a href="#%E5%BC%BA%E5%88%B6%E5%88%A0%E9%99%A4-untracked-%E7%9A%84%E7%9B%AE%E5%BD%95">å¼ºåˆ¶åˆ é™¤ untracked çš„ç›®å½•</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E7%AE%80%E5%8C%96%E7%9A%84-commit-%E5%8E%86%E5%8F%B2">å±•ç¤ºç®€åŒ–çš„ commit å†å²</a></li><li><a href="#%E6%9F%A5%E7%9C%8B%E6%9F%90%E6%AE%B5%E4%BB%A3%E7%A0%81%E6%98%AF%E8%B0%81%E5%86%99%E7%9A%84">æŸ¥çœ‹æŸæ®µä»£ç æ˜¯è°å†™çš„</a></li><li><a href="#%E6%8A%8A%E6%9F%90%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF%E5%88%B0%E5%AF%BC%E5%87%BA%E6%88%90%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6">æŠŠæŸä¸€ä¸ªåˆ†æ”¯åˆ°å¯¼å‡ºæˆä¸€ä¸ªæ–‡ä»¶</a></li><li><a href="#%E4%BB%8E%E5%8C%85%E4%B8%AD%E5%AF%BC%E5%85%A5%E5%88%86%E6%94%AF">ä»åŒ…ä¸­å¯¼å…¥åˆ†æ”¯</a></li><li><a href="#%E6%89%A7%E8%A1%8C-rebase-%E4%B9%8B%E5%89%8D%E8%87%AA%E5%8A%A8-stash">æ‰§è¡Œ rebase ä¹‹å‰è‡ªåŠ¨ stash</a></li><li><a href="#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%A0%B9%E6%8D%AE-ID-%E6%8B%89%E4%B8%8B%E6%9F%90%E4%B8%80%E7%8A%B6%E6%80%81-%E5%88%B0%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF">ä»è¿œç¨‹ä»“åº“æ ¹æ® IDï¼Œæ‹‰ä¸‹æŸä¸€çŠ¶æ€ï¼Œåˆ°æœ¬åœ°åˆ†æ”¯</a></li><li><a href="#%E8%AF%A6%E7%BB%86%E5%B1%95%E7%A4%BA%E4%B8%80%E8%A1%8C%E4%B8%AD%E7%9A%84%E4%BF%AE%E6%94%B9">è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹</a></li><li><a href="#%E6%B8%85%E9%99%A4-gitignore-%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AE%B0%E5%BD%95%E7%9A%84%E6%96%87%E4%BB%B6">æ¸…é™¤ <code>.gitignore</code> æ–‡ä»¶ä¸­è®°å½•çš„æ–‡ä»¶</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89-alias-%E5%92%8C-configs">å±•ç¤ºæ‰€æœ‰ alias å’Œ configs</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E5%BF%BD%E7%95%A5%E7%9A%84%E6%96%87%E4%BB%B6">å±•ç¤ºå¿½ç•¥çš„æ–‡ä»¶</a></li><li><a href="#commit-%E5%8E%86%E5%8F%B2%E4%B8%AD%E6%98%BE%E7%A4%BA-Branch1-%E6%9C%89%E7%9A%84%E4%BD%86%E6%98%AF-Branch2-%E6%B2%A1%E6%9C%89-commit">commit å†å²ä¸­æ˜¾ç¤º Branch1 æœ‰çš„ï¼Œä½†æ˜¯ Branch2 æ²¡æœ‰ commit</a></li><li><a href="#%E5%9C%A8-commit-log-%E4%B8%AD%E6%98%BE%E7%A4%BA-GPG-%E7%AD%BE%E5%90%8D">åœ¨ commit log ä¸­æ˜¾ç¤º GPG ç­¾å</a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%85%A8%E5%B1%80%E8%AE%BE%E7%BD%AE">åˆ é™¤å…¨å±€è®¾ç½®</a></li><li><a href="#%E6%96%B0%E5%BB%BA%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0%E6%96%B0%E5%88%86%E6%94%AF%E4%B8%8A%E5%90%8C%E6%97%B6%E8%BF%99%E4%B8%AA%E5%88%86%E6%94%AF%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95-commit">æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸Šï¼ŒåŒæ—¶è¿™ä¸ªåˆ†æ”¯æ²¡æœ‰ä»»ä½• commit</a></li><li><a href="#%E5%B1%95%E7%A4%BA%E4%BB%BB%E6%84%8F%E5%88%86%E6%94%AF%E6%9F%90%E4%B8%80%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9">å±•ç¤ºä»»æ„åˆ†æ”¯æŸä¸€æ–‡ä»¶çš„å†…å®¹</a></li><li><a href="#clone-%E4%B8%8B%E6%9D%A5%E6%8C%87%E5%AE%9A%E7%9A%84%E5%8D%95%E4%B8%80%E5%88%86%E6%94%AF">clone ä¸‹æ¥æŒ‡å®šçš„å•ä¸€åˆ†æ”¯</a></li><li><a href="#%E5%BF%BD%E7%95%A5%E6%9F%90%E4%B8%AA%E6%96%87%E4%BB%B6%E7%9A%84%E6%94%B9%E5%8A%A8">å¿½ç•¥æŸä¸ªæ–‡ä»¶çš„æ”¹åŠ¨</a></li><li><a href="#%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6%E7%9A%84%E6%9D%83%E9%99%90%E5%8F%98%E5%8C%96">å¿½ç•¥æ–‡ä»¶çš„æƒé™å˜åŒ–</a></li><li><a href="#%E4%BB%A5%E6%9C%80%E5%90%8E%E6%8F%90%E4%BA%A4%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89-Git-%E5%88%86%E6%94%AF">ä»¥æœ€åæäº¤çš„é¡ºåºåˆ—å‡ºæ‰€æœ‰ Git åˆ†æ”¯</a></li><li><a href="#%E5%9C%A8-commit-log-%E4%B8%AD%E6%9F%A5%E6%89%BE%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9">åœ¨ commit log ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹</a></li><li><a href="#%E6%8A%8A%E6%9A%82%E5%AD%98%E5%8C%BA%E7%9A%84%E6%8C%87%E5%AE%9A-file-%E6%94%BE%E5%88%B0%E5%B7%A5%E4%BD%9C%E5%8C%BA%E4%B8%AD">æŠŠæš‚å­˜åŒºçš„æŒ‡å®š file æ”¾åˆ°å·¥ä½œåŒºä¸­</a></li><li><a href="#%E5%BC%BA%E5%88%B6%E6%8E%A8%E9%80%81">å¼ºåˆ¶æ¨é€</a></li><li><a href="#%E4%B8%80%E5%9B%BE%E8%AF%A6%E8%A7%A3">ä¸€å›¾è¯¦è§£</a></li><li><a href="#%E4%BC%98%E9%9B%85%E7%9A%84%E6%8F%90%E4%BA%A4Commit%E4%BF%A1%E6%81%AF">ä¼˜é›…çš„æäº¤Commitä¿¡æ¯</a></li><li><a href="#%E8%81%94%E7%B3%BB%E6%88%91">è”ç³»æˆ‘</a></li></ul><h2 id="å±•ç¤ºå¸®åŠ©ä¿¡æ¯"><a href="#å±•ç¤ºå¸®åŠ©ä¿¡æ¯" class="headerlink" title="å±•ç¤ºå¸®åŠ©ä¿¡æ¯"></a>å±•ç¤ºå¸®åŠ©ä¿¡æ¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">help</span> -g<br></code></pre></td></tr></table></figure><p>The command output as below:</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stata">The common Git guides are:<br>   attributes          Defining attributes per path<br>   <span class="hljs-keyword">cli</span>                 Git command-<span class="hljs-keyword">line</span> interface and conventions<br>   core-<span class="hljs-keyword">tutorial</span>       A Git core <span class="hljs-keyword">tutorial</span> <span class="hljs-keyword">for</span> developers<br>   cvs-migration       Git <span class="hljs-keyword">for</span> CVS users<br>   diffcore            Tweaking diff output<br>   everyday            A useful minimum <span class="hljs-keyword">set</span> of commands <span class="hljs-keyword">for</span> Everyday Git<br>   glossary            A Git Glossary<br>   hooks               Hooks used <span class="hljs-keyword">by</span> Git<br>   ignore              Specifies intentionally untracked files to ignore<br>   modules             Defining submodule properties<br>   namespaces          Git namespaces<br>   repository-layout    Git Repository Layout<br>   revisions           Specifying revisions and ranges <span class="hljs-keyword">for</span> Git<br>   <span class="hljs-keyword">tutorial</span>            A <span class="hljs-keyword">tutorial</span> introduction to Git<br>   <span class="hljs-keyword">tutorial</span>-2          A <span class="hljs-keyword">tutorial</span> introduction to Git: part <span class="hljs-keyword">two</span><br>   workflows           <span class="hljs-keyword">An</span> overview of recommended workflows with Git<br><br>&#x27;git <span class="hljs-keyword">help</span> -a&#x27; and &#x27;git <span class="hljs-keyword">help</span> -<span class="hljs-keyword">g</span>&#x27; <span class="hljs-keyword">list</span> available subcommands and some concept guides. See &#x27;git <span class="hljs-keyword">help</span> &lt;command&gt;&#x27; or &#x27;git <span class="hljs-keyword">help</span> &lt;concept&gt;&#x27; to <span class="hljs-keyword">read</span> <span class="hljs-keyword">about</span> a specific subcommand or concept.<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€"><a href="#å›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€" class="headerlink" title="å›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€"></a>å›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€</h2><p>æŠ›å¼ƒæœ¬åœ°æ‰€æœ‰çš„ä¿®æ”¹ï¼Œå›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git fetch --all &amp;&amp; git reset --hard origin/master<br></code></pre></td></tr></table></figure><h2 id="é‡è®¾ç¬¬ä¸€ä¸ª-commit"><a href="#é‡è®¾ç¬¬ä¸€ä¸ª-commit" class="headerlink" title="é‡è®¾ç¬¬ä¸€ä¸ª commit"></a>é‡è®¾ç¬¬ä¸€ä¸ª commit</h2><p>ä¹Ÿå°±æ˜¯æŠŠæ‰€æœ‰çš„æ”¹åŠ¨éƒ½é‡æ–°æ”¾å›å·¥ä½œåŒºï¼Œå¹¶<strong>æ¸…ç©ºæ‰€æœ‰çš„ commit</strong>ï¼Œè¿™æ ·å°±å¯ä»¥é‡æ–°æäº¤ç¬¬ä¸€ä¸ª commit äº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git update-ref -d HEAD<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¸åŒ"><a href="#å±•ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¸åŒ" class="headerlink" title="å±•ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¸åŒ"></a>å±•ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¸åŒ</h2><p>è¾“å‡º<strong>å·¥ä½œåŒº</strong>å’Œ<strong>æš‚å­˜åŒº</strong>çš„ different (ä¸åŒ)ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git diff<br></code></pre></td></tr></table></figure><p>è¿˜å¯ä»¥å±•ç¤ºæœ¬åœ°ä»“åº“ä¸­ä»»æ„ä¸¤ä¸ª commit ä¹‹é—´çš„æ–‡ä»¶å˜åŠ¨ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git diff &lt;commit-id&gt; &lt;commit-id&gt;<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæš‚å­˜åŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ"><a href="#å±•ç¤ºæš‚å­˜åŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ" class="headerlink" title="å±•ç¤ºæš‚å­˜åŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ"></a>å±•ç¤ºæš‚å­˜åŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ</h2><p>è¾“å‡º<strong>æš‚å­˜åŒº</strong>å’Œæœ¬åœ°æœ€è¿‘çš„ç‰ˆæœ¬ (commit) çš„ different (ä¸åŒ)ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git diff --cached<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæš‚å­˜åŒºã€å·¥ä½œåŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ"><a href="#å±•ç¤ºæš‚å­˜åŒºã€å·¥ä½œåŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ" class="headerlink" title="å±•ç¤ºæš‚å­˜åŒºã€å·¥ä½œåŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ"></a>å±•ç¤ºæš‚å­˜åŒºã€å·¥ä½œåŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ</h2><p>è¾“å‡º<strong>å·¥ä½œåŒº</strong>ã€<strong>æš‚å­˜åŒº</strong> å’Œæœ¬åœ°æœ€è¿‘çš„ç‰ˆæœ¬ (commit) çš„ different (ä¸åŒ)ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git diff HEAD<br></code></pre></td></tr></table></figure><h2 id="å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯"><a href="#å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯" class="headerlink" title="å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯"></a>å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout -<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤å·²ç»åˆå¹¶åˆ°-master-çš„åˆ†æ”¯"><a href="#åˆ é™¤å·²ç»åˆå¹¶åˆ°-master-çš„åˆ†æ”¯" class="headerlink" title="åˆ é™¤å·²ç»åˆå¹¶åˆ° master çš„åˆ†æ”¯"></a>åˆ é™¤å·²ç»åˆå¹¶åˆ° master çš„åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch --merged master | grep -v <span class="hljs-string">&#x27;^\*\|  master&#x27;</span> | xargs -n 1 git branch -d<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“çš„æƒ…å†µ"><a href="#å±•ç¤ºæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“çš„æƒ…å†µ" class="headerlink" title="å±•ç¤ºæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“çš„æƒ…å†µ"></a>å±•ç¤ºæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“çš„æƒ…å†µ</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch -vv<br></code></pre></td></tr></table></figure><h2 id="å…³è”è¿œç¨‹åˆ†æ”¯"><a href="#å…³è”è¿œç¨‹åˆ†æ”¯" class="headerlink" title="å…³è”è¿œç¨‹åˆ†æ”¯"></a>å…³è”è¿œç¨‹åˆ†æ”¯</h2><p>å…³è”ä¹‹åï¼Œ<code>git branch -vv</code> å°±å¯ä»¥å±•ç¤ºå…³è”çš„è¿œç¨‹åˆ†æ”¯åäº†ï¼ŒåŒæ—¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ç›´æ¥ï¼š<code>git push</code>ï¼Œä¸éœ€è¦æŒ‡å®šè¿œç¨‹ä»“åº“äº†ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch -u origin/mybranch<br></code></pre></td></tr></table></figure><p>æˆ–è€…åœ¨ push æ—¶åŠ ä¸Š <code>-u</code> å‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push origin/mybranch -u<br></code></pre></td></tr></table></figure><h2 id="åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯"><a href="#åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯"></a>åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</h2><p>-r å‚æ•°ç›¸å½“äºï¼šremote</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch -r<br></code></pre></td></tr></table></figure><h2 id="åˆ—å‡ºæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯"><a href="#åˆ—å‡ºæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ—å‡ºæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯"></a>åˆ—å‡ºæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯</h2><p>-a å‚æ•°ç›¸å½“äºï¼šall</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch -a<br></code></pre></td></tr></table></figure><h2 id="åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯"><a href="#åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯"></a>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout -b &lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="ä»è¿œç¨‹åˆ†æ”¯ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯"><a href="#ä»è¿œç¨‹åˆ†æ”¯ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯" class="headerlink" title="ä»è¿œç¨‹åˆ†æ”¯ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯"></a>ä»è¿œç¨‹åˆ†æ”¯ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout -b &lt;branch-name&gt; origin/&lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤æœ¬åœ°åˆ†æ”¯"><a href="#åˆ é™¤æœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆ é™¤æœ¬åœ°åˆ†æ”¯"></a>åˆ é™¤æœ¬åœ°åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch -d &lt;local-branchname&gt;<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤è¿œç¨‹åˆ†æ”¯"><a href="#åˆ é™¤è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ é™¤è¿œç¨‹åˆ†æ”¯"></a>åˆ é™¤è¿œç¨‹åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push origin --delete &lt;remote-branchname&gt;<br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push origin :&lt;remote-branchname&gt;<br></code></pre></td></tr></table></figure><h2 id="é‡å‘½åæœ¬åœ°åˆ†æ”¯"><a href="#é‡å‘½åæœ¬åœ°åˆ†æ”¯" class="headerlink" title="é‡å‘½åæœ¬åœ°åˆ†æ”¯"></a>é‡å‘½åæœ¬åœ°åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git branch -m &lt;new-branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ ‡ç­¾"><a href="#æŸ¥çœ‹æ ‡ç­¾" class="headerlink" title="æŸ¥çœ‹æ ‡ç­¾"></a>æŸ¥çœ‹æ ‡ç­¾</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git tag<br></code></pre></td></tr></table></figure><p>å±•ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘çš„ tag</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git describe --tags --abbrev=0<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯"></a>æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git tag -<span class="hljs-built_in">ln</span><br></code></pre></td></tr></table></figure><h2 id="æœ¬åœ°åˆ›å»ºæ ‡ç­¾"><a href="#æœ¬åœ°åˆ›å»ºæ ‡ç­¾" class="headerlink" title="æœ¬åœ°åˆ›å»ºæ ‡ç­¾"></a>æœ¬åœ°åˆ›å»ºæ ‡ç­¾</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git tag &lt;version-number&gt;<br></code></pre></td></tr></table></figure><p>é»˜è®¤ tag æ˜¯æ‰“åœ¨æœ€è¿‘çš„ä¸€æ¬¡ commit ä¸Šï¼Œå¦‚æœéœ€è¦æŒ‡å®š commit æ‰“ tagï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ git tag -a &lt;version-number&gt; -m <span class="hljs-string">&quot;v1.0 å‘å¸ƒ(æè¿°)&quot;</span> &lt;commit-id&gt;<br></code></pre></td></tr></table></figure><h2 id="æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“"><a href="#æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“"></a>æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“</h2><p>é¦–å…ˆè¦ä¿è¯æœ¬åœ°åˆ›å»ºå¥½äº†æ ‡ç­¾æ‰å¯ä»¥æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push origin &lt;local-version-number&gt;<br></code></pre></td></tr></table></figure><p>ä¸€æ¬¡æ€§æ¨é€æ‰€æœ‰æ ‡ç­¾ï¼ŒåŒæ­¥åˆ°è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push origin --tags<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤æœ¬åœ°æ ‡ç­¾"><a href="#åˆ é™¤æœ¬åœ°æ ‡ç­¾" class="headerlink" title="åˆ é™¤æœ¬åœ°æ ‡ç­¾"></a>åˆ é™¤æœ¬åœ°æ ‡ç­¾</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git tag -d &lt;tag-name&gt;<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤è¿œç¨‹æ ‡ç­¾"><a href="#åˆ é™¤è¿œç¨‹æ ‡ç­¾" class="headerlink" title="åˆ é™¤è¿œç¨‹æ ‡ç­¾"></a>åˆ é™¤è¿œç¨‹æ ‡ç­¾</h2><p>åˆ é™¤è¿œç¨‹æ ‡ç­¾éœ€è¦<strong>å…ˆåˆ é™¤æœ¬åœ°æ ‡ç­¾</strong>ï¼Œå†æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push origin :refs/tags/&lt;tag-name&gt;<br></code></pre></td></tr></table></figure><h2 id="åˆ‡å›åˆ°æŸä¸ªæ ‡ç­¾"><a href="#åˆ‡å›åˆ°æŸä¸ªæ ‡ç­¾" class="headerlink" title="åˆ‡å›åˆ°æŸä¸ªæ ‡ç­¾"></a>åˆ‡å›åˆ°æŸä¸ªæ ‡ç­¾</h2><p>ä¸€èˆ¬ä¸Šçº¿ä¹‹å‰éƒ½ä¼šæ‰“ tagï¼Œå°±æ˜¯ä¸ºäº†é˜²æ­¢ä¸Šçº¿åå‡ºç°é—®é¢˜ï¼Œæ–¹ä¾¿å¿«é€Ÿå›é€€åˆ°ä¸Šä¸€ç‰ˆæœ¬ã€‚ä¸‹é¢çš„å‘½ä»¤æ˜¯å›åˆ°æŸä¸€æ ‡ç­¾ä¸‹çš„çŠ¶æ€ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout -b branch_name tag_name<br></code></pre></td></tr></table></figure><h2 id="æ”¾å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹"><a href="#æ”¾å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹" class="headerlink" title="æ”¾å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹"></a>æ”¾å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout &lt;file-name&gt;<br></code></pre></td></tr></table></figure><p>æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout .<br></code></pre></td></tr></table></figure><h2 id="æ¢å¤åˆ é™¤çš„æ–‡ä»¶"><a href="#æ¢å¤åˆ é™¤çš„æ–‡ä»¶" class="headerlink" title="æ¢å¤åˆ é™¤çš„æ–‡ä»¶"></a>æ¢å¤åˆ é™¤çš„æ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">git rev-list -n 1 HEAD -- &lt;file_path&gt; <span class="hljs-comment">#å¾—åˆ° deleting_commit</span><br><br>git checkout &lt;deleting_commit&gt;^ -- &lt;file_path&gt; <span class="hljs-comment">#å›åˆ°åˆ é™¤æ–‡ä»¶ deleting_commit ä¹‹å‰çš„çŠ¶æ€</span><br></code></pre></td></tr></table></figure><h2 id="ä»¥æ–°å¢ä¸€ä¸ª-commit-çš„æ–¹å¼è¿˜åŸæŸä¸€ä¸ª-commit-çš„ä¿®æ”¹"><a href="#ä»¥æ–°å¢ä¸€ä¸ª-commit-çš„æ–¹å¼è¿˜åŸæŸä¸€ä¸ª-commit-çš„ä¿®æ”¹" class="headerlink" title="ä»¥æ–°å¢ä¸€ä¸ª commit çš„æ–¹å¼è¿˜åŸæŸä¸€ä¸ª commit çš„ä¿®æ”¹"></a>ä»¥æ–°å¢ä¸€ä¸ª commit çš„æ–¹å¼è¿˜åŸæŸä¸€ä¸ª commit çš„ä¿®æ”¹</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git revert &lt;commit-id&gt;<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°æŸä¸ª-commit-çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤åé¢çš„-commit"><a href="#å›åˆ°æŸä¸ª-commit-çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤åé¢çš„-commit" class="headerlink" title="å›åˆ°æŸä¸ª commit çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤åé¢çš„ commit"></a>å›åˆ°æŸä¸ª commit çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤åé¢çš„ commit</h2><p>å’Œ revert çš„åŒºåˆ«ï¼šreset å‘½ä»¤ä¼šæŠ¹å»æŸä¸ª commit id ä¹‹åçš„æ‰€æœ‰ commit</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">git reset &lt;commit-id&gt;  <span class="hljs-comment">#é»˜è®¤å°±æ˜¯-mixedå‚æ•°ã€‚</span><br><br>git reset â€“mixed HEAD^  <span class="hljs-comment">#å›é€€è‡³ä¸Šä¸ªç‰ˆæœ¬ï¼Œå®ƒå°†é‡ç½®HEADåˆ°å¦å¤–ä¸€ä¸ªcommit,å¹¶ä¸”é‡ç½®æš‚å­˜åŒºä»¥ä¾¿å’ŒHEADç›¸åŒ¹é…ï¼Œä½†æ˜¯ä¹Ÿåˆ°æ­¤ä¸ºæ­¢ã€‚å·¥ä½œåŒºä¸ä¼šè¢«æ›´æ”¹ã€‚</span><br><br>git reset â€“soft HEAD~3  <span class="hljs-comment">#å›é€€è‡³ä¸‰ä¸ªç‰ˆæœ¬ä¹‹å‰ï¼Œåªå›é€€äº†commitçš„ä¿¡æ¯ï¼Œæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å›é€€ä¹‹å‰ä¿æŒä¸€è‡´ã€‚å¦‚æœè¿˜è¦æäº¤ï¼Œç›´æ¥commitå³å¯ Â </span><br><br>git reset â€“hard &lt;commit-id&gt;  <span class="hljs-comment">#å½»åº•å›é€€åˆ°æŒ‡å®šcommit-idçš„çŠ¶æ€ï¼Œæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¹Ÿä¼šå˜ä¸ºæŒ‡å®šcommit-idç‰ˆæœ¬çš„å†…å®¹</span><br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ä¸Šä¸€ä¸ª-commit-çš„æè¿°"><a href="#ä¿®æ”¹ä¸Šä¸€ä¸ª-commit-çš„æè¿°" class="headerlink" title="ä¿®æ”¹ä¸Šä¸€ä¸ª commit çš„æè¿°"></a>ä¿®æ”¹ä¸Šä¸€ä¸ª commit çš„æè¿°</h2><p>å¦‚æœæš‚å­˜åŒºæœ‰æ”¹åŠ¨ï¼ŒåŒæ—¶ä¹Ÿä¼šå°†æš‚å­˜åŒºçš„æ”¹åŠ¨æäº¤åˆ°ä¸Šä¸€ä¸ª commit</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git commit --amend<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹-commit-å†å²"><a href="#æŸ¥çœ‹-commit-å†å²" class="headerlink" title="æŸ¥çœ‹ commit å†å²"></a>æŸ¥çœ‹ commit å†å²</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">log</span><br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æŸæ®µä»£ç æ˜¯è°å†™çš„"><a href="#æŸ¥çœ‹æŸæ®µä»£ç æ˜¯è°å†™çš„" class="headerlink" title="æŸ¥çœ‹æŸæ®µä»£ç æ˜¯è°å†™çš„"></a>æŸ¥çœ‹æŸæ®µä»£ç æ˜¯è°å†™çš„</h2><p>blame çš„æ„æ€ä¸ºâ€˜è´£æ€ªâ€™ï¼Œä½ æ‡‚çš„ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git blame &lt;file-name&gt;<br></code></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºæœ¬åœ°æ›´æ–°è¿‡-HEAD-çš„-git-å‘½ä»¤è®°å½•"><a href="#æ˜¾ç¤ºæœ¬åœ°æ›´æ–°è¿‡-HEAD-çš„-git-å‘½ä»¤è®°å½•" class="headerlink" title="æ˜¾ç¤ºæœ¬åœ°æ›´æ–°è¿‡ HEAD çš„ git å‘½ä»¤è®°å½•"></a>æ˜¾ç¤ºæœ¬åœ°æ›´æ–°è¿‡ HEAD çš„ git å‘½ä»¤è®°å½•</h2><p>æ¯æ¬¡æ›´æ–°äº† HEAD çš„ git å‘½ä»¤æ¯”å¦‚ commintã€amendã€cherry-pickã€resetã€revert ç­‰éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼ˆä¸é™åˆ†æ”¯ï¼‰ï¼Œå°±åƒ shell çš„ history ä¸€æ ·ã€‚<br>è¿™æ ·ä½ å¯ä»¥ reset åˆ°ä»»ä½•ä¸€æ¬¡æ›´æ–°äº† HEAD çš„æ“ä½œä¹‹åï¼Œè€Œä¸ä»…ä»…æ˜¯å›åˆ°å½“å‰åˆ†æ”¯ä¸‹çš„æŸä¸ª commit ä¹‹åçš„çŠ¶æ€ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git reflog<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ä½œè€…å"><a href="#ä¿®æ”¹ä½œè€…å" class="headerlink" title="ä¿®æ”¹ä½œè€…å"></a>ä¿®æ”¹ä½œè€…å</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git commit --amend --author=<span class="hljs-string">&#x27;Author Name &lt;email@address.com&gt;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹è¿œç¨‹ä»“åº“çš„-url"><a href="#ä¿®æ”¹è¿œç¨‹ä»“åº“çš„-url" class="headerlink" title="ä¿®æ”¹è¿œç¨‹ä»“åº“çš„ url"></a>ä¿®æ”¹è¿œç¨‹ä»“åº“çš„ url</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git remote set-url origin &lt;URL&gt;<br></code></pre></td></tr></table></figure><h2 id="å¢åŠ è¿œç¨‹ä»“åº“"><a href="#å¢åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="å¢åŠ è¿œç¨‹ä»“åº“"></a>å¢åŠ è¿œç¨‹ä»“åº“</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git remote add origin &lt;remote-url&gt;<br></code></pre></td></tr></table></figure><h2 id="åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä»“åº“"><a href="#åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä»“åº“" class="headerlink" title="åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä»“åº“"></a>åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä»“åº“</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git remote<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹ä¸¤ä¸ªæ˜ŸæœŸå†…çš„æ”¹åŠ¨"><a href="#æŸ¥çœ‹ä¸¤ä¸ªæ˜ŸæœŸå†…çš„æ”¹åŠ¨" class="headerlink" title="æŸ¥çœ‹ä¸¤ä¸ªæ˜ŸæœŸå†…çš„æ”¹åŠ¨"></a>æŸ¥çœ‹ä¸¤ä¸ªæ˜ŸæœŸå†…çš„æ”¹åŠ¨</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git whatchanged --since=<span class="hljs-string">&#x27;2 weeks ago&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="æŠŠ-A-åˆ†æ”¯çš„æŸä¸€ä¸ª-commitï¼Œæ”¾åˆ°-B-åˆ†æ”¯ä¸Š"><a href="#æŠŠ-A-åˆ†æ”¯çš„æŸä¸€ä¸ª-commitï¼Œæ”¾åˆ°-B-åˆ†æ”¯ä¸Š" class="headerlink" title="æŠŠ A åˆ†æ”¯çš„æŸä¸€ä¸ª commitï¼Œæ”¾åˆ° B åˆ†æ”¯ä¸Š"></a>æŠŠ A åˆ†æ”¯çš„æŸä¸€ä¸ª commitï¼Œæ”¾åˆ° B åˆ†æ”¯ä¸Š</h2><p>è¿™ä¸ªè¿‡ç¨‹éœ€è¦ <code>cherry-pick</code> å‘½ä»¤ï¼Œ<a href="http://sg552.iteye.com/blog/1300713#bc2367928">å‚è€ƒ</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout &lt;branch-name&gt; &amp;&amp; git cherry-pick &lt;commit-id&gt;<br></code></pre></td></tr></table></figure><h2 id="ç»™-git-å‘½ä»¤èµ·åˆ«å"><a href="#ç»™-git-å‘½ä»¤èµ·åˆ«å" class="headerlink" title="ç»™ git å‘½ä»¤èµ·åˆ«å"></a>ç»™ git å‘½ä»¤èµ·åˆ«å</h2><p>ç®€åŒ–å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">git config --global <span class="hljs-built_in">alias</span>.&lt;handle&gt; &lt;<span class="hljs-built_in">command</span>&gt;<br><br>æ¯”å¦‚ï¼šgit status æ”¹æˆ git stï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–å‘½ä»¤<br><br>git config --global alias.st status<br></code></pre></td></tr></table></figure><h2 id="å­˜å‚¨å½“å‰çš„ä¿®æ”¹ï¼Œä½†ä¸ç”¨æäº¤-commit"><a href="#å­˜å‚¨å½“å‰çš„ä¿®æ”¹ï¼Œä½†ä¸ç”¨æäº¤-commit" class="headerlink" title="å­˜å‚¨å½“å‰çš„ä¿®æ”¹ï¼Œä½†ä¸ç”¨æäº¤ commit"></a>å­˜å‚¨å½“å‰çš„ä¿®æ”¹ï¼Œä½†ä¸ç”¨æäº¤ commit</h2><p>è¯¦è§£å¯ä»¥å‚è€ƒ<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137602359178794d966923e5c4134bc8bf98dfb03aea3000">å»–é›ªå³°è€å¸ˆçš„ git æ•™ç¨‹</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git stash<br></code></pre></td></tr></table></figure><h2 id="ä¿å­˜å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬-untracked-çš„æ–‡ä»¶"><a href="#ä¿å­˜å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬-untracked-çš„æ–‡ä»¶" class="headerlink" title="ä¿å­˜å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬ untracked çš„æ–‡ä»¶"></a>ä¿å­˜å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬ untracked çš„æ–‡ä»¶</h2><p>untracked æ–‡ä»¶ï¼šæ–°å»ºçš„æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git stash -u<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæ‰€æœ‰-stashes"><a href="#å±•ç¤ºæ‰€æœ‰-stashes" class="headerlink" title="å±•ç¤ºæ‰€æœ‰ stashes"></a>å±•ç¤ºæ‰€æœ‰ stashes</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git stash list<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°æŸä¸ª-stash-çš„çŠ¶æ€"><a href="#å›åˆ°æŸä¸ª-stash-çš„çŠ¶æ€" class="headerlink" title="å›åˆ°æŸä¸ª stash çš„çŠ¶æ€"></a>å›åˆ°æŸä¸ª stash çš„çŠ¶æ€</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git stash apply &lt;stash@&#123;n&#125;&gt;<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°æœ€åä¸€ä¸ª-stash-çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤è¿™ä¸ª-stash"><a href="#å›åˆ°æœ€åä¸€ä¸ª-stash-çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤è¿™ä¸ª-stash" class="headerlink" title="å›åˆ°æœ€åä¸€ä¸ª stash çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤è¿™ä¸ª stash"></a>å›åˆ°æœ€åä¸€ä¸ª stash çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤è¿™ä¸ª stash</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git stash pop<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤æ‰€æœ‰çš„-stash"><a href="#åˆ é™¤æ‰€æœ‰çš„-stash" class="headerlink" title="åˆ é™¤æ‰€æœ‰çš„ stash"></a>åˆ é™¤æ‰€æœ‰çš„ stash</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git stash clear<br></code></pre></td></tr></table></figure><h2 id="ä»-stash-ä¸­æ‹¿å‡ºæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹"><a href="#ä»-stash-ä¸­æ‹¿å‡ºæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹" class="headerlink" title="ä» stash ä¸­æ‹¿å‡ºæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹"></a>ä» stash ä¸­æ‹¿å‡ºæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout &lt;stash@&#123;n&#125;&gt; -- &lt;file-path&gt;<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæ‰€æœ‰-tracked-çš„æ–‡ä»¶"><a href="#å±•ç¤ºæ‰€æœ‰-tracked-çš„æ–‡ä»¶" class="headerlink" title="å±•ç¤ºæ‰€æœ‰ tracked çš„æ–‡ä»¶"></a>å±•ç¤ºæ‰€æœ‰ tracked çš„æ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git ls-files -t<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæ‰€æœ‰-untracked-çš„æ–‡ä»¶"><a href="#å±•ç¤ºæ‰€æœ‰-untracked-çš„æ–‡ä»¶" class="headerlink" title="å±•ç¤ºæ‰€æœ‰ untracked çš„æ–‡ä»¶"></a>å±•ç¤ºæ‰€æœ‰ untracked çš„æ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git ls-files --others<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶"><a href="#å±•ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶" class="headerlink" title="å±•ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶"></a>å±•ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git ls-files --others -i --exclude-standard<br></code></pre></td></tr></table></figure><h2 id="å¼ºåˆ¶åˆ é™¤-untracked-çš„æ–‡ä»¶"><a href="#å¼ºåˆ¶åˆ é™¤-untracked-çš„æ–‡ä»¶" class="headerlink" title="å¼ºåˆ¶åˆ é™¤ untracked çš„æ–‡ä»¶"></a>å¼ºåˆ¶åˆ é™¤ untracked çš„æ–‡ä»¶</h2><p>å¯ä»¥ç”¨æ¥åˆ é™¤æ–°å»ºçš„æ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šæ–‡ä»¶æ–‡ä»¶åï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰å·¥ä½œçš„ untracked æ–‡ä»¶ã€‚<code>clean</code> å‘½ä»¤ï¼Œ<strong>æ³¨æ„ä¸¤ç‚¹</strong>ï¼š</p><ol><li>clean åï¼Œåˆ é™¤çš„æ–‡ä»¶æ— æ³•æ‰¾å›</li><li>ä¸ä¼šå½±å“ tracked çš„æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œåªä¼šåˆ é™¤ untracked çš„æ–‡ä»¶</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git clean &lt;file-name&gt; -f<br></code></pre></td></tr></table></figure><h2 id="å¼ºåˆ¶åˆ é™¤-untracked-çš„ç›®å½•"><a href="#å¼ºåˆ¶åˆ é™¤-untracked-çš„ç›®å½•" class="headerlink" title="å¼ºåˆ¶åˆ é™¤ untracked çš„ç›®å½•"></a>å¼ºåˆ¶åˆ é™¤ untracked çš„ç›®å½•</h2><p>å¯ä»¥ç”¨æ¥åˆ é™¤æ–°å»ºçš„ç›®å½•ï¼Œ<strong>æ³¨æ„</strong>:è¿™ä¸ªå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥åˆ é™¤ untracked çš„æ–‡ä»¶ã€‚è¯¦æƒ…è§ä¸Šä¸€æ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git clean &lt;directory-name&gt; -<span class="hljs-built_in">df</span><br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºç®€åŒ–çš„-commit-å†å²"><a href="#å±•ç¤ºç®€åŒ–çš„-commit-å†å²" class="headerlink" title="å±•ç¤ºç®€åŒ–çš„ commit å†å²"></a>å±•ç¤ºç®€åŒ–çš„ commit å†å²</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">log</span> --pretty=oneline --graph --decorate --all<br></code></pre></td></tr></table></figure><h2 id="æŠŠæŸä¸€ä¸ªåˆ†æ”¯åˆ°å¯¼å‡ºæˆä¸€ä¸ªæ–‡ä»¶"><a href="#æŠŠæŸä¸€ä¸ªåˆ†æ”¯åˆ°å¯¼å‡ºæˆä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="æŠŠæŸä¸€ä¸ªåˆ†æ”¯åˆ°å¯¼å‡ºæˆä¸€ä¸ªæ–‡ä»¶"></a>æŠŠæŸä¸€ä¸ªåˆ†æ”¯åˆ°å¯¼å‡ºæˆä¸€ä¸ªæ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git bundle create &lt;file&gt; &lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="ä»åŒ…ä¸­å¯¼å…¥åˆ†æ”¯"><a href="#ä»åŒ…ä¸­å¯¼å…¥åˆ†æ”¯" class="headerlink" title="ä»åŒ…ä¸­å¯¼å…¥åˆ†æ”¯"></a>ä»åŒ…ä¸­å¯¼å…¥åˆ†æ”¯</h2><p>æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œåˆ†æ”¯å†…å®¹å°±æ˜¯ä¸Šé¢ <code>git bundle create</code> å‘½ä»¤å¯¼å‡ºçš„å†…å®¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> repo.bundle &lt;repo-dir&gt; -b &lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="æ‰§è¡Œ-rebase-ä¹‹å‰è‡ªåŠ¨-stash"><a href="#æ‰§è¡Œ-rebase-ä¹‹å‰è‡ªåŠ¨-stash" class="headerlink" title="æ‰§è¡Œ rebase ä¹‹å‰è‡ªåŠ¨ stash"></a>æ‰§è¡Œ rebase ä¹‹å‰è‡ªåŠ¨ stash</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git rebase --autostash<br></code></pre></td></tr></table></figure><h2 id="ä»è¿œç¨‹ä»“åº“æ ¹æ®-IDï¼Œæ‹‰ä¸‹æŸä¸€çŠ¶æ€ï¼Œåˆ°æœ¬åœ°åˆ†æ”¯"><a href="#ä»è¿œç¨‹ä»“åº“æ ¹æ®-IDï¼Œæ‹‰ä¸‹æŸä¸€çŠ¶æ€ï¼Œåˆ°æœ¬åœ°åˆ†æ”¯" class="headerlink" title="ä»è¿œç¨‹ä»“åº“æ ¹æ® IDï¼Œæ‹‰ä¸‹æŸä¸€çŠ¶æ€ï¼Œåˆ°æœ¬åœ°åˆ†æ”¯"></a>ä»è¿œç¨‹ä»“åº“æ ¹æ® IDï¼Œæ‹‰ä¸‹æŸä¸€çŠ¶æ€ï¼Œåˆ°æœ¬åœ°åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git fetch origin pull/&lt;<span class="hljs-built_in">id</span>&gt;/head:&lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹"><a href="#è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹" class="headerlink" title="è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹"></a>è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git diff --word-diff<br></code></pre></td></tr></table></figure><h2 id="æ¸…é™¤-gitignore-æ–‡ä»¶ä¸­è®°å½•çš„æ–‡ä»¶"><a href="#æ¸…é™¤-gitignore-æ–‡ä»¶ä¸­è®°å½•çš„æ–‡ä»¶" class="headerlink" title="æ¸…é™¤ gitignore æ–‡ä»¶ä¸­è®°å½•çš„æ–‡ä»¶"></a>æ¸…é™¤ gitignore æ–‡ä»¶ä¸­è®°å½•çš„æ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git clean -X -f<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºæ‰€æœ‰-alias-å’Œ-configs"><a href="#å±•ç¤ºæ‰€æœ‰-alias-å’Œ-configs" class="headerlink" title="å±•ç¤ºæ‰€æœ‰ alias å’Œ configs"></a>å±•ç¤ºæ‰€æœ‰ alias å’Œ configs</h2><p><strong>æ³¨æ„ï¼š</strong> config åˆ†ä¸ºï¼šå½“å‰ç›®å½•ï¼ˆlocalï¼‰å’Œå…¨å±€ï¼ˆgolbalï¼‰çš„ configï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•çš„ config</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">git config --<span class="hljs-built_in">local</span> --list (å½“å‰ç›®å½•)<br>git config --global --list (å…¨å±€)<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºå¿½ç•¥çš„æ–‡ä»¶"><a href="#å±•ç¤ºå¿½ç•¥çš„æ–‡ä»¶" class="headerlink" title="å±•ç¤ºå¿½ç•¥çš„æ–‡ä»¶"></a>å±•ç¤ºå¿½ç•¥çš„æ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git status --ignored<br></code></pre></td></tr></table></figure><h2 id="commit-å†å²ä¸­æ˜¾ç¤º-Branch1-æœ‰çš„ï¼Œä½†æ˜¯-Branch2-æ²¡æœ‰-commit"><a href="#commit-å†å²ä¸­æ˜¾ç¤º-Branch1-æœ‰çš„ï¼Œä½†æ˜¯-Branch2-æ²¡æœ‰-commit" class="headerlink" title="commit å†å²ä¸­æ˜¾ç¤º Branch1 æœ‰çš„ï¼Œä½†æ˜¯ Branch2 æ²¡æœ‰ commit"></a>commit å†å²ä¸­æ˜¾ç¤º Branch1 æœ‰çš„ï¼Œä½†æ˜¯ Branch2 æ²¡æœ‰ commit</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">log</span> Branch1 ^Branch2<br></code></pre></td></tr></table></figure><h2 id="åœ¨-commit-log-ä¸­æ˜¾ç¤º-GPG-ç­¾å"><a href="#åœ¨-commit-log-ä¸­æ˜¾ç¤º-GPG-ç­¾å" class="headerlink" title="åœ¨ commit log ä¸­æ˜¾ç¤º GPG ç­¾å"></a>åœ¨ commit log ä¸­æ˜¾ç¤º GPG ç­¾å</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">log</span> --show-signature<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤å…¨å±€è®¾ç½®"><a href="#åˆ é™¤å…¨å±€è®¾ç½®" class="headerlink" title="åˆ é™¤å…¨å±€è®¾ç½®"></a>åˆ é™¤å…¨å±€è®¾ç½®</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git config --global --<span class="hljs-built_in">unset</span> &lt;entry-name&gt;<br></code></pre></td></tr></table></figure><h2 id="æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸Šï¼ŒåŒæ—¶è¿™ä¸ªåˆ†æ”¯æ²¡æœ‰ä»»ä½•-commit"><a href="#æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸Šï¼ŒåŒæ—¶è¿™ä¸ªåˆ†æ”¯æ²¡æœ‰ä»»ä½•-commit" class="headerlink" title="æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸Šï¼ŒåŒæ—¶è¿™ä¸ªåˆ†æ”¯æ²¡æœ‰ä»»ä½• commit"></a>æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸Šï¼ŒåŒæ—¶è¿™ä¸ªåˆ†æ”¯æ²¡æœ‰ä»»ä½• commit</h2><p>ç›¸å½“äºä¿å­˜ä¿®æ”¹ï¼Œä½†æ˜¯é‡å†™ commit å†å²</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git checkout --orphan &lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="å±•ç¤ºä»»æ„åˆ†æ”¯æŸä¸€æ–‡ä»¶çš„å†…å®¹"><a href="#å±•ç¤ºä»»æ„åˆ†æ”¯æŸä¸€æ–‡ä»¶çš„å†…å®¹" class="headerlink" title="å±•ç¤ºä»»æ„åˆ†æ”¯æŸä¸€æ–‡ä»¶çš„å†…å®¹"></a>å±•ç¤ºä»»æ„åˆ†æ”¯æŸä¸€æ–‡ä»¶çš„å†…å®¹</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git show &lt;branch-name&gt;:&lt;file-name&gt;<br></code></pre></td></tr></table></figure><h2 id="clone-ä¸‹æ¥æŒ‡å®šçš„å•ä¸€åˆ†æ”¯"><a href="#clone-ä¸‹æ¥æŒ‡å®šçš„å•ä¸€åˆ†æ”¯" class="headerlink" title="clone ä¸‹æ¥æŒ‡å®šçš„å•ä¸€åˆ†æ”¯"></a>clone ä¸‹æ¥æŒ‡å®šçš„å•ä¸€åˆ†æ”¯</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> -b &lt;branch-name&gt; --single-branch https://github.com/user/repo.git<br></code></pre></td></tr></table></figure><h2 id="å¿½ç•¥æŸä¸ªæ–‡ä»¶çš„æ”¹åŠ¨"><a href="#å¿½ç•¥æŸä¸ªæ–‡ä»¶çš„æ”¹åŠ¨" class="headerlink" title="å¿½ç•¥æŸä¸ªæ–‡ä»¶çš„æ”¹åŠ¨"></a>å¿½ç•¥æŸä¸ªæ–‡ä»¶çš„æ”¹åŠ¨</h2><p>å…³é—­ track æŒ‡å®šæ–‡ä»¶çš„æ”¹åŠ¨ï¼Œä¹Ÿå°±æ˜¯ Git å°†ä¸ä¼šåœ¨è®°å½•è¿™ä¸ªæ–‡ä»¶çš„æ”¹åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git update-index --assume-unchanged path/to/file<br></code></pre></td></tr></table></figure><p>æ¢å¤ track æŒ‡å®šæ–‡ä»¶çš„æ”¹åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git update-index --no-assume-unchanged path/to/file<br></code></pre></td></tr></table></figure><h2 id="å¿½ç•¥æ–‡ä»¶çš„æƒé™å˜åŒ–"><a href="#å¿½ç•¥æ–‡ä»¶çš„æƒé™å˜åŒ–" class="headerlink" title="å¿½ç•¥æ–‡ä»¶çš„æƒé™å˜åŒ–"></a>å¿½ç•¥æ–‡ä»¶çš„æƒé™å˜åŒ–</h2><p>ä¸å†å°†æ–‡ä»¶çš„æƒé™å˜åŒ–è§†ä½œæ”¹åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git config core.fileMode <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h2 id="ä»¥æœ€åæäº¤çš„é¡ºåºåˆ—å‡ºæ‰€æœ‰-Git-åˆ†æ”¯"><a href="#ä»¥æœ€åæäº¤çš„é¡ºåºåˆ—å‡ºæ‰€æœ‰-Git-åˆ†æ”¯" class="headerlink" title="ä»¥æœ€åæäº¤çš„é¡ºåºåˆ—å‡ºæ‰€æœ‰ Git åˆ†æ”¯"></a>ä»¥æœ€åæäº¤çš„é¡ºåºåˆ—å‡ºæ‰€æœ‰ Git åˆ†æ”¯</h2><p>æœ€æ–°çš„æ”¾åœ¨æœ€ä¸Šé¢</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git for-each-ref --<span class="hljs-built_in">sort</span>=-committerdate --format=<span class="hljs-string">&#x27;%(refname:short)&#x27;</span> refs/heads/<br></code></pre></td></tr></table></figure><h2 id="åœ¨-commit-log-ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹"><a href="#åœ¨-commit-log-ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹" class="headerlink" title="åœ¨ commit log ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹"></a>åœ¨ commit log ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹</h2><p>é€šè¿‡ grep æŸ¥æ‰¾ï¼Œgiven-textï¼šæ‰€éœ€è¦æŸ¥æ‰¾çš„å­—æ®µ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">log</span> --all --grep=<span class="hljs-string">&#x27;&lt;given-text&gt;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="æŠŠæš‚å­˜åŒºçš„æŒ‡å®š-file-æ”¾åˆ°å·¥ä½œåŒºä¸­"><a href="#æŠŠæš‚å­˜åŒºçš„æŒ‡å®š-file-æ”¾åˆ°å·¥ä½œåŒºä¸­" class="headerlink" title="æŠŠæš‚å­˜åŒºçš„æŒ‡å®š file æ”¾åˆ°å·¥ä½œåŒºä¸­"></a>æŠŠæš‚å­˜åŒºçš„æŒ‡å®š file æ”¾åˆ°å·¥ä½œåŒºä¸­</h2><p>ä¸æ·»åŠ å‚æ•°ï¼Œé»˜è®¤æ˜¯ <code>-mixed</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git reset &lt;file-name&gt;<br></code></pre></td></tr></table></figure><h2 id="å¼ºåˆ¶æ¨é€"><a href="#å¼ºåˆ¶æ¨é€" class="headerlink" title="å¼ºåˆ¶æ¨é€"></a>å¼ºåˆ¶æ¨é€</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push -f &lt;remote-name&gt; &lt;branch-name&gt;<br></code></pre></td></tr></table></figure><h2 id="ä¸€å›¾è¯¦è§£"><a href="#ä¸€å›¾è¯¦è§£" class="headerlink" title="ä¸€å›¾è¯¦è§£"></a>ä¸€å›¾è¯¦è§£</h2><p><img src="/./assets/git.png"></p><h2 id="ä¼˜é›…çš„æäº¤Commitä¿¡æ¯"><a href="#ä¼˜é›…çš„æäº¤Commitä¿¡æ¯" class="headerlink" title="ä¼˜é›…çš„æäº¤Commitä¿¡æ¯"></a>ä¼˜é›…çš„æäº¤Commitä¿¡æ¯</h2><p>ä½¿ç”¨<a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines">Angularå›¢é˜Ÿæäº¤è§„èŒƒ</a></p><p>ä¸»è¦æœ‰ä»¥ä¸‹ç»„æˆ</p><ul><li>æ ‡é¢˜è¡Œ: å¿…å¡«, æè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹</li><li>ä¸»é¢˜å†…å®¹: æè¿°ä¸ºä»€ä¹ˆä¿®æ”¹, åšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹, ä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ç­‰</li><li>é¡µè„šæ³¨é‡Š: æ”¾ Breaking Changes æˆ– Closed Issues</li></ul><p>å¸¸ç”¨çš„ä¿®æ”¹é¡¹</p><ul><li>type: commit çš„ç±»å‹</li><li>feat: æ–°ç‰¹æ€§</li><li>fix: ä¿®æ”¹é—®é¢˜</li><li>refactor: ä»£ç é‡æ„</li><li>docs: æ–‡æ¡£ä¿®æ”¹</li><li>style: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹</li><li>test: æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹</li><li>chore: å…¶ä»–ä¿®æ”¹, æ¯”å¦‚æ„å»ºæµç¨‹, ä¾èµ–ç®¡ç†.</li><li>scope: commit å½±å“çš„èŒƒå›´, æ¯”å¦‚: route, component, utils, buildâ€¦</li><li>subject: commit çš„æ¦‚è¿°</li><li>body: commit å…·ä½“ä¿®æ”¹å†…å®¹, å¯ä»¥åˆ†ä¸ºå¤šè¡Œ</li><li>footer: ä¸€äº›å¤‡æ³¨, é€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥.</li></ul><h3 id="ä½¿ç”¨Commitizenä»£æ›¿-git-commit"><a href="#ä½¿ç”¨Commitizenä»£æ›¿-git-commit" class="headerlink" title="ä½¿ç”¨Commitizenä»£æ›¿ git commit"></a>ä½¿ç”¨<code>Commitizen</code>ä»£æ›¿ git commit</h3><p>å¯ä»¥ä½¿ç”¨<a href="https://github.com/commitizen/cz-cli">cz-cli</a>å·¥å…·ä»£æ›¿ <code>git commit</code></p><p>å…¨å±€å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install -g commitizen cz-conventional-changelog<br><br>echo &#x27;&#123; &quot;path&quot;: &quot;cz-conventional-changelog&quot; &#125;&#x27; &gt; ~/.czrc<br></code></pre></td></tr></table></figure><p>å…¨å±€å®‰è£…åä½¿ç”¨ <code>git cz</code> ä»£æ›¿ <code>git commit</code>å°±å¯ä»¥äº†,å¦‚ä¸‹å›¾</p><p><img src="/./assets/gitcz.png"></p><h2 id="è”ç³»æˆ‘"><a href="#è”ç³»æˆ‘" class="headerlink" title="è”ç³»æˆ‘"></a>è”ç³»æˆ‘</h2><ul><li>åšå®¢å›­ï¼š<a href="http://www.cnblogs.com/xueweihan/">å‰Šå¾®å¯’</a></li><li>æˆ–è€…ç›´æ¥æ Prï¼ŒIssues</li></ul><p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† è¿”å›é¡¶éƒ¨</a></strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨Linuxç³»ç»Ÿä¸­åˆ©ç”¨dockeréƒ¨ç½²Javaé¡¹ç›®</title>
    <link href="/2024/12/26/%E5%9C%A8Linux%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%88%A9%E7%94%A8docker%E9%83%A8%E7%BD%B2Java%E9%A1%B9%E7%9B%AE/"/>
    <url>/2024/12/26/%E5%9C%A8Linux%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%88%A9%E7%94%A8docker%E9%83%A8%E7%BD%B2Java%E9%A1%B9%E7%9B%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="åœ¨Linuxç³»ç»Ÿä¸­åˆ©ç”¨dockeréƒ¨ç½²Javaé¡¹ç›®"><a href="#åœ¨Linuxç³»ç»Ÿä¸­åˆ©ç”¨dockeréƒ¨ç½²Javaé¡¹ç›®" class="headerlink" title="åœ¨Linuxç³»ç»Ÿä¸­åˆ©ç”¨dockeréƒ¨ç½²Javaé¡¹ç›®"></a>åœ¨Linuxç³»ç»Ÿä¸­åˆ©ç”¨dockeréƒ¨ç½²Javaé¡¹ç›®</h1><p>å®‰è£…å¥½dockerçš„å‰æä¸‹</p><h4 id="ä½¿ç”¨dockerå®‰è£…MySQLæ•°æ®åº“"><a href="#ä½¿ç”¨dockerå®‰è£…MySQLæ•°æ®åº“" class="headerlink" title="ä½¿ç”¨dockerå®‰è£…MySQLæ•°æ®åº“"></a>ä½¿ç”¨dockerå®‰è£…MySQLæ•°æ®åº“</h4><p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Linux">docker run -d \<br>  --name mysql \<br>  -p 3306:3306 \<br>  -e TZ=Asia/Shanghai \<br>  -e MYSQL_ROOT_PASSWORD=å¯†ç  \<br>  -v /root/mysql/data:/var/lib/mysql \<br>  -v /root/mysql/conf:/etc/mysql/conf.d \<br>  -v /root/mysql/init:/docker-entrypoint-initdb.d \<br>  --network è™šæ‹Ÿç½‘ç»œå\<br>   mysql<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼ŒDockerä¼šè‡ªåŠ¨æœç´¢å¹¶ä¸‹è½½MySQLã€‚æ³¨æ„ï¼šè¿™é‡Œä¸‹è½½çš„ä¸æ˜¯å®‰è£…åŒ…ï¼Œè€Œæ˜¯<strong>é•œåƒã€‚</strong>é•œåƒä¸­ä¸ä»…åŒ…å«äº†MySQLæœ¬èº«ï¼Œè¿˜åŒ…å«äº†å…¶è¿è¡Œæ‰€éœ€è¦çš„ç¯å¢ƒã€é…ç½®ã€ç³»ç»Ÿçº§å‡½æ•°åº“ã€‚å› æ­¤å®ƒåœ¨è¿è¡Œæ—¶å°±æœ‰è‡ªå·±ç‹¬ç«‹çš„ç¯å¢ƒï¼Œå°±å¯ä»¥è·¨ç³»ç»Ÿè¿è¡Œï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨å†æ¬¡é…ç½®ç¯å¢ƒäº†ã€‚è¿™å¥—ç‹¬ç«‹è¿è¡Œçš„éš”ç¦»ç¯å¢ƒæˆ‘ä»¬ç§°ä¸º<strong>å®¹å™¨</strong>ã€‚</p><h4 id="ä½¿ç”¨dockerå®‰è£…Redis"><a href="#ä½¿ç”¨dockerå®‰è£…Redis" class="headerlink" title="ä½¿ç”¨dockerå®‰è£…Redis"></a>ä½¿ç”¨dockerå®‰è£…Redis</h4><p>ä¸€è¡Œå‘½ä»¤ç›´æ¥æå®š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">docker</span> run --restart=always -p <span class="hljs-number">6379</span>:<span class="hljs-number">6379</span> --name myredis -d redis:<span class="hljs-number">7</span>.<span class="hljs-number">0</span>.<span class="hljs-number">12</span>  --requirepass ningzaichun<br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨dockerè¿è¡ŒJavaé¡¹ç›®"><a href="#ä½¿ç”¨dockerè¿è¡ŒJavaé¡¹ç›®" class="headerlink" title="ä½¿ç”¨dockerè¿è¡ŒJavaé¡¹ç›®"></a>ä½¿ç”¨dockerè¿è¡ŒJavaé¡¹ç›®</h4><p>åœ¨æœ¬åœ°å°†Javaé¡¹ç›®æ–‡ä»¶æ‰“åŒ…æˆjaråŒ…ï¼Œå¤åˆ¶åˆ°Linuxç›®å½•åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ„å»ºé•œåƒ</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">docker <span class="hljs-keyword">build </span>-t <span class="hljs-keyword">jaråŒ…çš„åå­— </span>.<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºå¹¶è¿è¡Œé•œåƒ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">docker run -d <span class="hljs-attr">--name</span> é•œåƒå <span class="hljs-attr">--network</span> è™šæ‹Ÿç½‘ç»œå -<span class="hljs-selector-tag">p</span> <span class="hljs-number">48081</span>:<span class="hljs-number">48081</span> yshop<br></code></pre></td></tr></table></figure><p>åˆ›å»ºdockerè™šæ‹Ÿç½‘ç»œçš„å¸¸è§å‘½ä»¤æœ‰ï¼š</p><table><thead><tr><th align="left"><strong>å‘½ä»¤</strong></th><th align="left"><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td align="left">docker network create</td><td align="left">åˆ›å»ºä¸€ä¸ªç½‘ç»œ</td></tr><tr><td align="left">docker network ls</td><td align="left">æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œ</td></tr><tr><td align="left">docker network rm</td><td align="left">åˆ é™¤æŒ‡å®šç½‘ç»œ</td></tr><tr><td align="left">docker network prune</td><td align="left">æ¸…é™¤æœªä½¿ç”¨çš„ç½‘ç»œ</td></tr><tr><td align="left">docker network connect</td><td align="left">ä½¿æŒ‡å®šå®¹å™¨è¿æ¥åŠ å…¥æŸç½‘ç»œ</td></tr><tr><td align="left">docker network disconnect</td><td align="left">ä½¿æŒ‡å®šå®¹å™¨è¿æ¥ç¦»å¼€æŸç½‘ç»œ</td></tr><tr><td align="left">docker network inspect</td><td align="left">æŸ¥çœ‹ç½‘ç»œè¯¦ç»†ä¿¡æ¯</td></tr></tbody></table>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨ç­–ç•¥æ¨¡å¼å’Œå·¥å‚æ¨¡å¼</title>
    <link href="/2024/12/26/%E4%BD%BF%E7%94%A8%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"/>
    <url>/2024/12/26/%E4%BD%BF%E7%94%A8%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨ç­–ç•¥æ¨¡å¼å’Œå·¥å‚æ¨¡å¼"><a href="#ä½¿ç”¨ç­–ç•¥æ¨¡å¼å’Œå·¥å‚æ¨¡å¼" class="headerlink" title="ä½¿ç”¨ç­–ç•¥æ¨¡å¼å’Œå·¥å‚æ¨¡å¼"></a>ä½¿ç”¨ç­–ç•¥æ¨¡å¼å’Œå·¥å‚æ¨¡å¼</h1><h4 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a><strong>ç›®æ ‡</strong></h4><p>æˆ‘ä»¬å°†ä½¿ç”¨<strong>ç­–ç•¥æ¨¡å¼</strong>å¯¹è´­ç‰©è½¦çš„æ·»åŠ é€»è¾‘è¿›è¡Œé‡æ„ï¼Œé¿å…<code>if-else</code>çš„å¤æ‚åˆ¤æ–­ï¼Œä½¿ä»£ç æ›´åŠ <strong>æ¸…æ™°</strong>ã€<strong>å¯ç»´æŠ¤</strong>ã€<strong>å¯æ‰©å±•</strong>ã€‚</p><h4 id="1-ç­–ç•¥æ¥å£"><a href="#1-ç­–ç•¥æ¥å£" class="headerlink" title="1.ç­–ç•¥æ¥å£"></a>1.ç­–ç•¥æ¥å£</h4><p>å®šä¹‰ä¸€ä¸ªé€šç”¨çš„æ¥å£ï¼Œä¾›ä¸åŒç­–ç•¥ï¼ˆå¦‚èœå“ã€å¥—é¤ç­‰ï¼‰å®ç°å„è‡ªçš„é€»è¾‘ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç­–ç•¥æ¨¡å¼çš„æ¥å£ï¼Œå®šä¹‰è´­ç‰©è½¦é¡¹çš„å¡«å……è§„åˆ™</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ShoppingCartStrategy</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¡«å……è´­ç‰©è½¦é¡¹çš„è¯¦ç»†ä¿¡æ¯</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> shoppingCart è´­ç‰©è½¦å¯¹è±¡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> itemId       èœå“IDæˆ–å¥—é¤ID</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">populateDetails</span><span class="hljs-params">(ShoppingCart shoppingCart, Long itemId)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-ç­–ç•¥å®ç°"><a href="#2-ç­–ç•¥å®ç°" class="headerlink" title="2.ç­–ç•¥å®ç°"></a>2.ç­–ç•¥å®ç°</h4><h5 id="2-1èœå“ç­–ç•¥å®ç°"><a href="#2-1èœå“ç­–ç•¥å®ç°" class="headerlink" title="2.1èœå“ç­–ç•¥å®ç°"></a>2.1èœå“ç­–ç•¥å®ç°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * èœå“ç±»å‹çš„è´­ç‰©è½¦ç­–ç•¥å®ç°</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Component(&quot;dishStrategy&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DishCartStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShoppingCartStrategy</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> DishMapper dishMapper;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">populateDetails</span><span class="hljs-params">(ShoppingCart shoppingCart, Long dishId)</span> &#123;<br>        <span class="hljs-comment">// é€šè¿‡IDè·å–èœå“ä¿¡æ¯</span><br>        <span class="hljs-type">Dish</span> <span class="hljs-variable">dish</span> <span class="hljs-operator">=</span> dishMapper.getById(dishId);<br>        <span class="hljs-keyword">if</span> (dish == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;æœªæ‰¾åˆ°å¯¹åº”çš„èœå“ä¿¡æ¯&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// å¡«å……è´­ç‰©è½¦ä¿¡æ¯</span><br>        shoppingCart.setName(dish.getName());<br>        shoppingCart.setImage(dish.getImage());<br>        shoppingCart.setAmount(dish.getPrice());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="2-2å¥—é¤ç­–ç•¥å®ç°"><a href="#2-2å¥—é¤ç­–ç•¥å®ç°" class="headerlink" title="2.2å¥—é¤ç­–ç•¥å®ç°"></a>2.2å¥—é¤ç­–ç•¥å®ç°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å¥—é¤ç±»å‹çš„è´­ç‰©è½¦ç­–ç•¥å®ç°</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Component(&quot;setmealStrategy&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SetmealCartStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShoppingCartStrategy</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> SetmealMapper setmealMapper;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">populateDetails</span><span class="hljs-params">(ShoppingCart shoppingCart, Long setmealId)</span> &#123;<br>        <span class="hljs-comment">// é€šè¿‡IDè·å–å¥—é¤ä¿¡æ¯</span><br>        <span class="hljs-type">Setmeal</span> <span class="hljs-variable">setmeal</span> <span class="hljs-operator">=</span> setmealMapper.getById(setmealId);<br>        <span class="hljs-keyword">if</span> (setmeal == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;æœªæ‰¾åˆ°å¯¹åº”çš„å¥—é¤ä¿¡æ¯&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// å¡«å……è´­ç‰©è½¦ä¿¡æ¯</span><br>        shoppingCart.setName(setmeal.getName());<br>        shoppingCart.setImage(setmeal.getImage());<br>        shoppingCart.setAmount(setmeal.getPrice());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-ç­–ç•¥å·¥å‚"><a href="#3-ç­–ç•¥å·¥å‚" class="headerlink" title="3.ç­–ç•¥å·¥å‚"></a>3.ç­–ç•¥å·¥å‚</h4><p>åˆ›å»ºå·¥å‚ç±»ç»Ÿä¸€ç®¡ç†ç­–ç•¥å¯¹è±¡ï¼Œä¸å†éœ€è¦åœ¨ Service å±‚æ‰‹åŠ¨åˆ›å»ºæˆ–ç»´æŠ¤ç­–ç•¥å®ä¾‹ã€‚</p><p>å°†æ‰€æœ‰ç­–ç•¥å¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ª <code>Map</code> ä¸­ï¼Œç”±å·¥å‚ç±»ç»Ÿä¸€ç®¡ç†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç­–ç•¥å·¥å‚ç±»ï¼Œæ ¹æ®ç±»å‹è¿”å›ä¸åŒçš„ç­–ç•¥</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShoppingCartStrategyFactory</span> &#123;<br><br>    <span class="hljs-comment">// å­˜å‚¨æ‰€æœ‰ç­–ç•¥çš„æ˜ å°„å…³ç³»</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, ShoppingCartStrategy&gt; strategyMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ„é€ å‡½æ•° - ç”±Springè‡ªåŠ¨æ³¨å…¥æ‰€æœ‰ç­–ç•¥Bean</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> strategies æ‰€æœ‰å®ç°ShoppingCartStrategyæ¥å£çš„Bean</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ShoppingCartStrategyFactory</span><span class="hljs-params">(Map&lt;String, ShoppingCartStrategy&gt; strategies)</span> &#123;<br>        <span class="hljs-built_in">this</span>.strategyMap.putAll(strategies);<br>    &#125;<br>   <span class="hljs-comment">/** mapçš„ç¤ºä¾‹æ•°æ®ä¸º</span><br><span class="hljs-comment">     * &#123;  </span><br><span class="hljs-comment">     *      &quot;dishStrategy&quot;: DishCartStrategyå®ä¾‹,</span><br><span class="hljs-comment">     *      &quot;setmealStrategy&quot;: SetmealCartStrategyå®ä¾‹,</span><br><span class="hljs-comment">     *  &#125;</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ ¹æ®ç±»å‹è·å–ç›¸åº”çš„ç­–ç•¥</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> type ç­–ç•¥ç±»å‹ï¼ˆdish/setmealï¼‰</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> å¯¹åº”çš„ç­–ç•¥å®ä¾‹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> ShoppingCartStrategy <span class="hljs-title function_">getStrategy</span><span class="hljs-params">(String type)</span> &#123;<br>        <span class="hljs-type">ShoppingCartStrategy</span> <span class="hljs-variable">strategy</span> <span class="hljs-operator">=</span> strategyMap.get(type + <span class="hljs-string">&quot;Strategy&quot;</span>);<br>        <span class="hljs-keyword">if</span> (strategy == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;æ— æ•ˆçš„è´­ç‰©è½¦ç­–ç•¥ç±»å‹: &quot;</span> + type);<br>        &#125;<br>        <span class="hljs-keyword">return</span> strategy;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>åœ¨ Spring ä¸­ï¼Œå½“ä¸€ä¸ªç±»æ ‡è®°ä¸º <code>@Component</code>ã€<code>@Service</code>ã€<code>@Repository</code> æˆ– <code>@Controller</code> æ—¶ï¼ŒSpring å®¹å™¨ä¼šå°†è¯¥ç±»çš„å®ä¾‹ä½œä¸ºä¸€ä¸ª Bean ç®¡ç†èµ·æ¥ï¼Œå¹¶æ”¾å…¥ <strong>ApplicationContext</strong>ï¼ˆSpring å®¹å™¨çš„ä¸Šä¸‹æ–‡ä¸­ï¼‰ã€‚</p><p>å½“ Spring å‘ç°ä¸€ä¸ªæ„é€ å‡½æ•°è¢« <code>@Autowired</code> æ³¨è§£æ ‡è®°æ—¶ï¼Œå®ƒä¼šå°è¯•ä¸ºè¿™ä¸ªæ„é€ å‡½æ•°æä¾›å‚æ•°å€¼ã€‚</p><p>åœ¨è¿™é‡Œï¼ŒSpring ä¼šæŸ¥æ‰¾ <strong>æ‰€æœ‰å®ç°äº† <code>ShoppingCartStrategy</code> æ¥å£çš„ Bean</strong>ã€‚</p><p>æ€»ç»“ï¼šSpring åœ¨å¯åŠ¨æ—¶æ”¶é›†æ‰€æœ‰ <code>ShoppingCartStrategy</code> ç±»å‹çš„ Beanï¼Œå¹¶å°†å…¶æŒ‰åç§°ä¸ Map è¿›è¡ŒåŒ¹é…ï¼Œæœ€ç»ˆå®Œæˆä¾èµ–æ³¨å…¥ã€‚</p><p><strong>å‚æ•°ç±»å‹ä¸º <code>Map&lt;String, ShoppingCartStrategy&gt;</code></strong></p><ul><li>Spring ä¼šå°†æ‰€æœ‰å®ç°äº† <code>ShoppingCartStrategy</code> æ¥å£çš„ Bean ä½œä¸º <code>Map</code> æ³¨å…¥ã€‚</li><li><strong>Key</strong>ï¼šBean çš„åç§°ï¼ˆé€šå¸¸æ˜¯ç±»åé¦–å­—æ¯å°å†™ï¼Œå¦‚ <code>dishStrategy</code>ã€<code>setmealStrategy</code>ï¼‰ã€‚</li><li><strong>Value</strong>ï¼šå¯¹åº”çš„ Bean å®ä¾‹ï¼ˆå¦‚ <code>DishCartStrategy</code>ã€<code>SetmealCartStrategy</code>ï¼‰ã€‚</li></ul><h4 id="4-Service-å±‚è°ƒç”¨"><a href="#4-Service-å±‚è°ƒç”¨" class="headerlink" title="4.Service å±‚è°ƒç”¨"></a>4.Service å±‚è°ƒç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-meta">@Service</span><br><span class="hljs-meta">@Slf4j</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShoppingCartServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ShoppingCartService</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> ShoppingCartMapper shoppingCartMapper;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> ShoppingCartStrategyFactory strategyFactory;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-meta">@Transactional</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addShoppingCart</span><span class="hljs-params">(ShoppingCartDTO shoppingCartDTO)</span> &#123;<br>        <span class="hljs-comment">// åˆå§‹åŒ–è´­ç‰©è½¦å¯¹è±¡</span><br>        <span class="hljs-type">ShoppingCart</span> <span class="hljs-variable">shoppingCart</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShoppingCart</span>();<br>        BeanUtils.copyProperties(shoppingCartDTO, shoppingCart);<br>        shoppingCart.setUserId(BaseContext.getCurrentId());<br>        List&lt;ShoppingCart&gt; list = shoppingCartMapper.list(shoppingCart);<br>        <span class="hljs-comment">// å¦‚æœå­˜åœ¨ï¼Œåˆ™æ•°é‡åŠ ä¸€</span><br>        <span class="hljs-keyword">if</span> (list != <span class="hljs-literal">null</span> &amp;&amp; list.size() &gt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-type">ShoppingCart</span> <span class="hljs-variable">cart</span> <span class="hljs-operator">=</span> list.get(<span class="hljs-number">0</span>);<br>            cart.setNumber(cart.getNumber() + <span class="hljs-number">1</span>);<br>            shoppingCartMapper.updateNumberById(cart);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// ç¡®å®šç­–ç•¥ç±»å‹å’ŒID</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> shoppingCartDTO.getDishId() != <span class="hljs-literal">null</span> ? <span class="hljs-string">&quot;dish&quot;</span> : <span class="hljs-string">&quot;setmeal&quot;</span>;<br>            <span class="hljs-type">Long</span> <span class="hljs-variable">itemId</span> <span class="hljs-operator">=</span> shoppingCartDTO.getDishId() != <span class="hljs-literal">null</span> ? shoppingCartDTO.getDishId() : shoppingCartDTO.getSetmealId();<br><br>            <span class="hljs-comment">// è·å–ç­–ç•¥å¹¶å¡«å……è´­ç‰©è½¦è¯¦æƒ…</span><br>            <span class="hljs-type">ShoppingCartStrategy</span> <span class="hljs-variable">strategy</span> <span class="hljs-operator">=</span> strategyFactory.getStrategy(type);<br>            strategy.populateDetails(shoppingCart, itemId);<br>            <span class="hljs-comment">// è®¾ç½®é»˜è®¤æ•°é‡å’Œæ—¶é—´</span><br>            shoppingCart.setNumber(<span class="hljs-number">1</span>);<br>            shoppingCart.setCreateTime(LocalDateTime.now());<br>            <span class="hljs-comment">// æ’å…¥è´­ç‰©è½¦</span><br>            shoppingCartMapper.insert(shoppingCart);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-æ·»åŠ æ–°ç­–ç•¥ç±»"><a href="#5-æ·»åŠ æ–°ç­–ç•¥ç±»" class="headerlink" title="5.æ·»åŠ æ–°ç­–ç•¥ç±»"></a>5.æ·»åŠ æ–°ç­–ç•¥ç±»</h4><p>åˆ›å»ºæ–°ç±»ï¼Œåªéœ€è¦å®ç°ShoppingCartStrategyæ¥å£å¹¶æ³¨å†Œåˆ°Springå®¹å™¨å°±èƒ½å®ç°æ·»åŠ ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨AOPç¼–ç¨‹å®ç°æ‹¦æˆªå™¨é‰´æƒ</title>
    <link href="/2024/12/23/%E4%BD%BF%E7%94%A8AOP%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0%E6%8B%A6%E6%88%AA%E5%99%A8%E9%89%B4%E6%9D%83/"/>
    <url>/2024/12/23/%E4%BD%BF%E7%94%A8AOP%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0%E6%8B%A6%E6%88%AA%E5%99%A8%E9%89%B4%E6%9D%83/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨AOPç¼–ç¨‹å®ç°æ‹¦æˆªå™¨é‰´æƒ"><a href="#ä½¿ç”¨AOPç¼–ç¨‹å®ç°æ‹¦æˆªå™¨é‰´æƒ" class="headerlink" title="ä½¿ç”¨AOPç¼–ç¨‹å®ç°æ‹¦æˆªå™¨é‰´æƒ"></a>ä½¿ç”¨AOPç¼–ç¨‹å®ç°æ‹¦æˆªå™¨é‰´æƒ</h1>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>åˆ†å¸ƒå¼äº‹åŠ¡</title>
    <link href="/2024/12/23/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/"/>
    <url>/2024/12/23/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ†å¸ƒå¼äº‹åŠ¡"><a href="#åˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="åˆ†å¸ƒå¼äº‹åŠ¡"></a>åˆ†å¸ƒå¼äº‹åŠ¡</h2><h4 id="ä½¿ç”¨Seataå®Œæˆåˆ†å¸ƒå¼äº‹åŠ¡"><a href="#ä½¿ç”¨Seataå®Œæˆåˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="ä½¿ç”¨Seataå®Œæˆåˆ†å¸ƒå¼äº‹åŠ¡"></a>ä½¿ç”¨Seataå®Œæˆåˆ†å¸ƒå¼äº‹åŠ¡</h4><p>åœ¨Seataçš„äº‹åŠ¡ç®¡ç†ä¸­æœ‰ä¸‰ä¸ªé‡è¦çš„è§’è‰²ï¼š</p><ul><li><strong>TC (Transaction Coordinator) - äº‹åŠ¡åè°ƒè€…ï¼š</strong>ç»´æŠ¤å…¨å±€å’Œåˆ†æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œåè°ƒå…¨å±€äº‹åŠ¡æäº¤æˆ–å›æ»šã€‚ </li><li><strong>TM (Transaction Manager) -</strong> <strong>äº‹åŠ¡ç®¡ç†å™¨ï¼š</strong>å®šä¹‰å…¨å±€äº‹åŠ¡çš„èŒƒå›´ã€å¼€å§‹å…¨å±€äº‹åŠ¡ã€æäº¤æˆ–å›æ»šå…¨å±€äº‹åŠ¡ã€‚ </li><li><strong>RM (Resource Manager) -</strong> <strong>èµ„æºç®¡ç†å™¨ï¼š</strong>ç®¡ç†åˆ†æ”¯äº‹åŠ¡ï¼Œä¸TCäº¤è°ˆä»¥æ³¨å†Œåˆ†æ”¯äº‹åŠ¡å’ŒæŠ¥å‘Šåˆ†æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œå¹¶é©±åŠ¨åˆ†æ”¯äº‹åŠ¡æäº¤æˆ–å›æ»šã€‚</li></ul><h5 id="XAæ¨¡å¼"><a href="#XAæ¨¡å¼" class="headerlink" title="XAæ¨¡å¼"></a>XAæ¨¡å¼</h5><p>Seataçš„starterå®Œæˆäº†XAæ¨¡å¼çš„è‡ªåŠ¨è£…é…ã€‚</p><p>å®ç°æ­¥éª¤åªéœ€è¦ä¸¤æ­¥ï¼ˆå‰ææ˜¯å·²ç»å®ŒæˆSeataçš„é…ç½®ï¼‰</p><p>1ã€ä¿®æ”¹application.yamlæ–‡ä»¶ï¼ˆæ¯ä¸ªå‚ä¸äº‹åŠ¡çš„å¾®æœåŠ¡ï¼Œå¼€å¯XAæ¨¡å¼ï¼š</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">seata</span>ï¼š<br><span class="hljs-class"><span class="hljs-keyword">data</span>-source-proxy-mode: <span class="hljs-type">XA</span></span><br></code></pre></td></tr></table></figure><p>2ã€ç»™å…¨å±€äº‹åŠ¡çš„å…¥å£æ–¹æ³•æ·»åŠ @GlobalTransactionæ³¨è§£</p><p>ä¼˜ç‚¹ï¼šè§£å†³åˆ†å¸ƒå¼äº‹åŠ¡çš„é—®é¢˜ï¼Œå¼ºä¸€è‡´æ€§ï¼Œæ»¡è¶³ACIDåŸåˆ™ï¼Œåˆ†ä¸¤ä¸ªé˜¶æ®µæäº¤äº‹åŠ¡</p><p>ä¸€é˜¶æ®µï¼š</p><ul><li>äº‹åŠ¡åè°ƒè€…é€šçŸ¥æ¯ä¸ªäº‹åŠ¡å‚ä¸è€…æ‰§è¡Œæœ¬åœ°äº‹åŠ¡</li><li>æœ¬åœ°äº‹åŠ¡æ‰§è¡Œå®ŒæˆåæŠ¥å‘Šäº‹åŠ¡æ‰§è¡ŒçŠ¶æ€ç»™äº‹åŠ¡åè°ƒè€…ï¼Œæ­¤æ—¶äº‹åŠ¡ä¸æäº¤ï¼Œç»§ç»­æŒæœ‰æ•°æ®åº“é”</li></ul><p>äºŒé˜¶æ®µï¼š</p><ul><li>äº‹åŠ¡åè°ƒè€…åŸºäºä¸€é˜¶æ®µçš„æŠ¥å‘Šæ¥åˆ¤æ–­ä¸‹ä¸€æ­¥æ“ä½œ</li><li>å¦‚æœä¸€é˜¶æ®µéƒ½æˆåŠŸï¼Œåˆ™é€šçŸ¥æ‰€æœ‰äº‹åŠ¡å‚ä¸è€…ï¼Œæäº¤äº‹åŠ¡</li><li>å¦‚æœä¸€é˜¶æ®µä»»æ„ä¸€ä¸ªå‚ä¸è€…å¤±è´¥ï¼Œåˆ™é€šçŸ¥æ‰€æœ‰äº‹åŠ¡å‚ä¸è€…å›æ»šäº‹åŠ¡</li></ul><p>ç¼ºç‚¹ï¼šå› ä¸ºXAæ¨¡å¼æ˜¯åˆ†ä¸¤ä¸ªé˜¶æ®µæäº¤äº‹åŠ¡ï¼Œåœ¨ä¸€é˜¶æ®µä¼šå ç”¨æ•°æ®åº“èµ„æºï¼ˆæ’å®ƒé”ï¼‰ï¼Œç¬¬äºŒé˜¶æ®µæ‰ä¼šé‡Šæ”¾èµ„æºã€‚å¯¼è‡´åœ¨ç¬¬ä¸€é˜¶æ®µå…¶ä»–æœåŠ¡ä¸èƒ½æ‰§è¡Œã€‚</p><h5 id="ATæ¨¡å¼"><a href="#ATæ¨¡å¼" class="headerlink" title="ATæ¨¡å¼"></a>ATæ¨¡å¼</h5><p>Seataä¸»æ¨çš„æ¨¡å¼æ˜¯ATæ¨¡å¼ï¼Œå¼¥è¡¥äº†XAæ¨¡å¼ä¸­èµ„æºé”å®šå‘¨æœŸè¿‡é•¿çš„ç¼ºé™·ã€‚</p><p>é˜¶æ®µä¸€RMçš„å·¥ä½œï¼š</p><ul><li>æ³¨å†Œåˆ†æ”¯äº‹åŠ¡ç»™TC</li><li>è®°å½•undo-logï¼ˆæ•°æ®å¿«ç…§ï¼‰</li><li>æ‰§è¡Œsqlå¹¶æäº¤</li><li>æŠ¥å‘Šäº‹åŠ¡çŠ¶æ€</li></ul><p>é˜¶æ®µäºŒæäº¤æ—¶RMçš„å·¥ä½œï¼š</p><ul><li>åˆ é™¤undo-log</li></ul><p>é˜¶æ®µäºŒå›æ»šæ—¶RMçš„å·¥ä½œï¼š</p><ul><li>æ ¹æ®undo-logæ¢å¤æ•°æ®åˆ°æ›´æ–°å‰</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>SpringSecurityå­¦ä¹ </title>
    <link href="/2024/01/27/SpringSecurity%E5%AD%A6%E4%B9%A0/"/>
    <url>/2024/01/27/SpringSecurity%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="SpringSecurity"><a href="#SpringSecurity" class="headerlink" title="SpringSecurity"></a>SpringSecurity</h1><p>ç™»å½•æµç¨‹</p><p>è‡ªå®šä¹‰ä¸€ä¸ªç™»å½•æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> LoginService loginService;<br>    <span class="hljs-meta">@PostMapping(&quot;/user/login&quot;)</span><br>    <span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title function_">login</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span>&#123;<br>        <span class="hljs-keyword">return</span> loginService.login(user);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨SecurityConfigæ–‡ä»¶ä¸­å¯¹ç™»å½•æ¥å£æ”¾è¡Œï¼ŒSecurityConfigéœ€è¦ç»§æ‰¿WebSecurityConfigurerAdapterï¼Œä½¿ç”¨SpringSecurityä¸ºæˆ‘ä»¬æä¾›çš„BCryptPasswordEncoderå¯¹è±¡è¿›è¡Œå¯†ç æ ¡éªŒï¼Œåªéœ€è¦å°†BCryptPasswordEncoderå¯¹è±¡æ³¨å…¥Springå®¹å™¨ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebSecurityConfigurerAdapter</span> &#123;<br>    <span class="hljs-comment">// é…ç½®å¯†ç ç¼–ç å™¨ï¼ŒPasswordEncoderä¸ºBCryptPasswordEncoderçš„çˆ¶ç±»</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> PasswordEncoder <span class="hljs-title function_">passwordEncoder</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BCryptPasswordEncoder</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        http<br>                <span class="hljs-comment">//å…³é—­csrf</span><br>                .csrf().disable()<br>                <span class="hljs-comment">//ä¸é€šè¿‡Sessionè·å–SecurityContext</span><br>                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)<br>                .and()<br>                .authorizeRequests()<br>                <span class="hljs-comment">// å¯¹äºç™»å½•æ¥å£ å…è®¸åŒ¿åè®¿é—®</span><br>                .antMatchers(<span class="hljs-string">&quot;/user/login&quot;</span>).anonymous()<br>                <span class="hljs-comment">// é™¤ä¸Šé¢å¤–çš„æ‰€æœ‰è¯·æ±‚å…¨éƒ¨éœ€è¦é‰´æƒè®¤è¯</span><br>                .anyRequest().authenticated();<br>    &#125;<br></code></pre></td></tr></table></figure><p>å®šä¹‰LoginServiceæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">LoginService</span> &#123;<br><br>    ResponseResult <span class="hljs-title function_">login</span><span class="hljs-params">(User user)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨LoginServiceImplä¸­å®ç°loginæ–¹æ³•ï¼Œè°ƒç”¨AuthenticationManagerä¸­çš„authenticateç»è¡Œç”¨æˆ·è®¤è¯ï¼ˆAuthenticationManagerå¯¹è±¡éœ€è¦åœ¨SecurityConfigä¸­é‡å†™authenticationManagerBean()æ–¹æ³•ï¼Œåœ¨æ–¹æ³•æ·»åŠ @Beanå°†å…¶æ³¨å…¥Springå®¹å™¨ä¸­)ã€‚</p><p>authenticationManager.authenticate(è¿™éœ€è¦ä¼ å…¥Authenticationå¯¹è±¡ï¼‰,authenticationçš„å®ç°ç±»ä¸ºUsernamePasswordAuthenticationToken()</p><p>åˆ›å»ºUsernamePasswordAuthenticationToken()å¯¹è±¡å°†userNameï¼Œpasswordå°è£…è¿›å»ï¼Œè¿”å›Authenticationå¯¹è±¡</p><p>è®¤è¯æˆåŠŸåï¼Œè·å–userId   å¼ºåˆ¶ç±»å‹è½¬æ¢(LoginUser) authenticate.getPrincipal()ï¼Œ</p><p>æ ¹æ®userIdç”ŸæˆToken,å°†tokenå°è£…æˆjsonæ ¼å¼è¿”å›ç»™å‰ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">  <span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebSecurityConfigurerAdapter</span> &#123;<br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> AuthenticationManager <span class="hljs-title function_">authenticationManagerBean</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.authenticationManagerBean();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LoginService</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> AuthenticationManager authenticationManager;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> RedisCache redisCache;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title function_">login</span><span class="hljs-params">(User user)</span> &#123;<br>        <span class="hljs-comment">// AuthenticationManager authenticationManager è¿›è¡Œç”¨æˆ·è®¤è¯</span><br>        <span class="hljs-comment">// å°†Userå¯¹è±¡ç”¨æˆ·åå’Œå¯†ç å°è£…æˆAuthenticationå®ç°ç±»</span><br>        <span class="hljs-type">UsernamePasswordAuthenticationToken</span> <span class="hljs-variable">authenticationToken</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordAuthenticationToken</span>(user.getUserName(),user.getPassword());<br>        <span class="hljs-comment">// authenticationManager.authenticate è°ƒç”¨UserDetailsServiceæŸ¥è¯¢æ•°æ®åº“</span><br><span class="hljs-type">Authentication</span> <span class="hljs-variable">authenticate</span> <span class="hljs-operator">=</span> authenticationManager.authenticate(authenticationToken);<br>        <span class="hljs-comment">// æ²¡é€šè¿‡è®¤è¯ï¼ŒæŠ›å‡ºå¼‚å¸¸ ,å¦‚æœæ²¡æŸ¥è¯¢åˆ°èµ°ä¸åˆ°è¿™</span><br><span class="hljs-comment">//        if(Objects.isNull(authenticate))&#123;</span><br><span class="hljs-comment">//            throw new RuntimeException(&quot;ç™»é™†å¤±è´¥&quot;);</span><br><span class="hljs-comment">//        &#125;</span><br>        <span class="hljs-comment">//ä½¿ç”¨useridç”Ÿæˆtoken</span><br>        <span class="hljs-type">LoginUser</span> <span class="hljs-variable">loginUser</span> <span class="hljs-operator">=</span> (LoginUser) authenticate.getPrincipal();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> loginUser.getUser().getId().toString();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">jwt</span> <span class="hljs-operator">=</span> JwtUtil.createJWT(userId);<br>        <span class="hljs-comment">//authenticateå­˜å…¥redis</span><br>        <span class="hljs-comment">//redisCache.setCacheObject(&quot;login:&quot;+userId,loginUser);</span><br>        <span class="hljs-comment">//æŠŠtokenå“åº”ç»™å‰ç«¯</span><br>        HashMap&lt;String,String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        map.put(<span class="hljs-string">&quot;token&quot;</span>,jwt);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseResult</span>(<span class="hljs-number">200</span>,<span class="hljs-string">&quot;ç™»é™†æˆåŠŸ&quot;</span>,map);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>AuthenticationManagerä¼šè‡ªåŠ¨è°ƒç”¨UserDetailsServiceçš„å®ç°ç±»ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™UserDetailsServiceçš„å®ç°ç±»å¯¹æ•°æ®åº“è¿›è¡Œç”¨æˆ·åå’Œå¯†ç çš„æŸ¥è¯¢ï¼Œå°†æ•°æ®å°è£…æˆUserDetailsè¿”å›ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDetailsServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDetailsService</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> UserDetails <span class="hljs-title function_">loadUserByUsername</span><span class="hljs-params">(String username)</span> <span class="hljs-keyword">throws</span> UsernameNotFoundException &#123;<br>        <span class="hljs-comment">// æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span><br>        LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();<br>        queryWrapper.eq(User::getUserName,username);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.selectOne(queryWrapper);<br>        <span class="hljs-comment">// å¦‚æœæŸ¥è¯¢ä¸ºç©ºï¼ŒæŠ›å‡ºå¼‚å¸¸</span><br>        <span class="hljs-keyword">if</span> (Objects.isNull(user))&#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼ï¼&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">// TODO æŸ¥è¯¢å¯¹åº”çš„æƒé™ä¿¡æ¯</span><br><br>        <span class="hljs-comment">// æŠŠæ•°æ®å°è£…æˆUserDetailsè¿”å›</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginUser</span>(user);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Spring bootç¬”è®°</title>
    <link href="/2023/12/22/Spring-boot%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/12/22/Spring-boot%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><h1 id="ç¬¬ä¸€ç« -JavaConfig"><a href="#ç¬¬ä¸€ç« -JavaConfig" class="headerlink" title="ç¬¬ä¸€ç«   JavaConfig"></a>ç¬¬ä¸€ç«   JavaConfig</h1><ol><li><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Spring Boot</p><p>å› ä¸ºSpringï¼Œ SpringMVC éœ€è¦ä½¿ç”¨çš„å¤§é‡çš„é…ç½®æ–‡ä»¶ ï¼ˆxmlæ–‡ä»¶ï¼‰</p><p>è¿˜éœ€è¦é…ç½®å„ç§å¯¹è±¡ï¼ŒæŠŠä½¿ç”¨çš„å¯¹è±¡æ”¾å…¥åˆ°springå®¹å™¨ä¸­æ‰èƒ½ä½¿ç”¨å¯¹è±¡</p><p>éœ€è¦äº†è§£å…¶ä»–æ¡†æ¶é…ç½®è§„åˆ™ã€‚</p></li><li><p>SpringBoot å°±ç›¸å½“äº ä¸éœ€è¦é…ç½®æ–‡ä»¶çš„Spring+SpringMVCã€‚ å¸¸ç”¨çš„æ¡†æ¶å’Œç¬¬ä¸‰æ–¹åº“éƒ½å·²ç»é…ç½®å¥½äº†ã€‚</p><p>æ‹¿æ¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p></li><li><p>SpringBootå¼€å‘æ•ˆç‡é«˜ï¼Œä½¿ç”¨æ–¹ä¾¿å¤šäº†</p></li></ol><h2 id="1-1-JavaConfig"><a href="#1-1-JavaConfig" class="headerlink" title="1.1 JavaConfig"></a>1.1 JavaConfig</h2><p>JavaConfig: ä½¿ç”¨javaç±»ä½œä¸ºxmlé…ç½®æ–‡ä»¶çš„æ›¿ä»£ï¼Œ æ˜¯é…ç½®springå®¹å™¨çš„çº¯javaçš„æ–¹å¼ã€‚ åœ¨è¿™ä¸ªjavaç±»è¿™å¯ä»¥åˆ›å»ºjavaå¯¹è±¡ï¼ŒæŠŠå¯¹è±¡æ”¾å…¥springå®¹å™¨ä¸­ï¼ˆæ³¨å…¥åˆ°å®¹å™¨ï¼‰ï¼Œ </p><p>ä½¿ç”¨ä¸¤ä¸ªæ³¨è§£ï¼š</p><p>1ï¼‰@Configuration ï¼š æ”¾åœ¨ä¸€ä¸ªç±»çš„ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ã€‚</p><p>2ï¼‰@Beanï¼šå£°æ˜å¯¹è±¡ï¼ŒæŠŠå¯¹è±¡æ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java">ä¾‹å­ï¼š<br><span class="hljs-keyword">package</span> com.bjpowernode.config;<br><br><span class="hljs-keyword">import</span> com.bjpowernode.vo.Student;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Configuration:è¡¨ç¤ºå½“å‰ç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ã€‚ å°±æ˜¯ç”¨æ¥é…ç½®å®¹å™¨çš„</span><br><span class="hljs-comment"> *       ä½ç½®ï¼šåœ¨ç±»çš„ä¸Šé¢</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *  SpringConfigè¿™ä¸ªç±»å°±ç›¸å½“äºbeans.xml</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * åˆ›å»ºæ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼æ˜¯å¯¹è±¡ã€‚ åœ¨æ–¹æ³•çš„ä¸Šé¢åŠ å…¥<span class="hljs-doctag">@Bean</span></span><br><span class="hljs-comment">     * æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡å°±æ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@Bean</span>: æŠŠå¯¹è±¡æ³¨å…¥åˆ°springå®¹å™¨ä¸­ã€‚ ä½œç”¨ç›¸å½“äº&lt;bean&gt;</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     *     ä½ç½®ï¼šæ–¹æ³•çš„ä¸Šé¢</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     *     è¯´æ˜ï¼š<span class="hljs-doctag">@Bean</span>,ä¸æŒ‡å®šå¯¹è±¡çš„åç§°ï¼Œé»˜è®¤æ˜¯æ–¹æ³•åæ˜¯ id</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> Student <span class="hljs-title function_">createStudent</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        s1.setName(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>);<br>        s1.setAge(<span class="hljs-number">26</span>);<br>        s1.setSex(<span class="hljs-string">&quot;ç”·&quot;</span>);<br>        <span class="hljs-keyword">return</span> s1;<br>    &#125;<br><br><br>    <span class="hljs-comment">/***</span><br><span class="hljs-comment">     * æŒ‡å®šå¯¹è±¡åœ¨å®¹å™¨ä¸­çš„åç§°ï¼ˆæŒ‡å®š&lt;bean&gt;çš„idå±æ€§ï¼‰</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@Bean</span>çš„nameå±æ€§ï¼ŒæŒ‡å®šå¯¹è±¡çš„åç§°ï¼ˆidï¼‰</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean(name = &quot;lisiStudent&quot;)</span><br>    <span class="hljs-keyword">public</span> Student <span class="hljs-title function_">makeStudent</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        s2.setName(<span class="hljs-string">&quot;æå››&quot;</span>);<br>        s2.setAge(<span class="hljs-number">22</span>);<br>        s2.setSex(<span class="hljs-string">&quot;ç”·&quot;</span>);<br>        <span class="hljs-keyword">return</span> s2;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="1-2-ImporResource"><a href="#1-2-ImporResource" class="headerlink" title="1.2 @ImporResource"></a>1.2 @ImporResource</h2><p>@ImportResource ä½œç”¨å¯¼å…¥å…¶ä»–çš„xmlé…ç½®æ–‡ä»¶ï¼Œ ç­‰äº åœ¨xml </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resources</span>=<span class="hljs-string">&quot;å…¶ä»–é…ç½®æ–‡ä»¶&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@ImportResource(value =&#123; &quot;classpath:applicationContext.xml&quot;,&quot;classpath:beans.xml&quot;&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="1-3-PropertyResource"><a href="#1-3-PropertyResource" class="headerlink" title="1.3 @PropertyResource"></a>1.3 @PropertyResource</h2><p>@PropertyResource: è¯»å–propertieså±æ€§é…ç½®æ–‡ä»¶ã€‚ ä½¿ç”¨å±æ€§é…ç½®æ–‡ä»¶å¯ä»¥å®ç°å¤–éƒ¨åŒ–é…ç½® ï¼Œ</p><p>åœ¨ç¨‹åºä»£ç ä¹‹å¤–æä¾›æ•°æ®ã€‚</p><p>æ­¥éª¤ï¼š</p><ol><li>åœ¨resourcesç›®å½•ä¸‹ï¼Œåˆ›å»ºpropertiesæ–‡ä»¶ï¼Œ ä½¿ç”¨k&#x3D;vçš„æ ¼å¼æä¾›æ•°æ®</li><li>åœ¨PropertyResource æŒ‡å®špropertiesæ–‡ä»¶çš„ä½ç½®</li><li>ä½¿ç”¨@Valueï¼ˆvalue&#x3D;â€${key}â€ï¼‰</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@ImportResource(value =&#123; &quot;classpath:applicationContext.xml&quot;,&quot;classpath:beans.xml&quot;&#125;)</span><br><span class="hljs-meta">@PropertySource(value = &quot;classpath:config.properties&quot;)</span><br><span class="hljs-meta">@ComponentScan(basePackages = &quot;com.bjpowernode.vo&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äºŒ-ç« -Spring-Boot"><a href="#ç¬¬äºŒ-ç« -Spring-Boot" class="headerlink" title="ç¬¬äºŒ ç«  Spring Boot"></a>ç¬¬äºŒ ç«  Spring Boot</h1><h2 id="2-1-ä»‹ç»"><a href="#2-1-ä»‹ç»" class="headerlink" title="2.1 ä»‹ç»"></a>2.1 ä»‹ç»</h2><p>SpringBootæ˜¯Springä¸­çš„ä¸€ä¸ªæˆå‘˜ï¼Œ å¯ä»¥ç®€åŒ–Springï¼ŒSpringMVCçš„ä½¿ç”¨ã€‚ ä»–çš„æ ¸å¿ƒè¿˜æ˜¯IOCå®¹å™¨ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li><p>Create stand-alone Spring applications</p><p>åˆ›å»ºspringåº”ç”¨</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p><p>å†…åµŒçš„tomcatï¼Œ jetty ï¼Œ Undertow </p></li><li><p>Provide opinionated â€˜starterâ€™ dependencies to simplify your build configuration</p><p>æä¾›äº†starterèµ·æ­¥ä¾èµ–ï¼Œç®€åŒ–åº”ç”¨çš„é…ç½®ã€‚   </p><p>æ¯”å¦‚ä½¿ç”¨MyBatisæ¡†æ¶ ï¼Œ éœ€è¦åœ¨Springé¡¹ç›®ä¸­ï¼Œé…ç½®MyBatisçš„å¯¹è±¡ SqlSessionFactory ï¼Œ Daoçš„ä»£ç†å¯¹è±¡</p><p>åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œåœ¨pom.xmlé‡Œé¢, åŠ å…¥ä¸€ä¸ª mybatis-spring-boot-starterä¾èµ–</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p><p>å°½å¯èƒ½å»é…ç½®springå’Œç¬¬ä¸‰æ–¹åº“ã€‚å«åšè‡ªåŠ¨é…ç½®ï¼ˆå°±æ˜¯æŠŠspringä¸­çš„ï¼Œç¬¬ä¸‰æ–¹åº“ä¸­çš„å¯¹è±¡éƒ½åˆ›å»ºå¥½ï¼Œæ”¾åˆ°å®¹å™¨ä¸­ï¼Œ å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p><p>æä¾›äº†å¥åº·æ£€æŸ¥ï¼Œ ç»Ÿè®¡ï¼Œå¤–éƒ¨åŒ–é…ç½®</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p><p>ä¸ç”¨ç”Ÿæˆä»£ç ï¼Œ ä¸ç”¨ä½¿ç”¨xmlï¼Œåšé…ç½®</p></li></ul><h2 id="2-2-åˆ›å»ºSpring-Booté¡¹ç›®"><a href="#2-2-åˆ›å»ºSpring-Booté¡¹ç›®" class="headerlink" title="2.2 åˆ›å»ºSpring Booté¡¹ç›®"></a>2.2 åˆ›å»ºSpring Booté¡¹ç›®</h2><h3 id="2-2-1-ç¬¬ä¸€ç§æ–¹å¼ï¼Œ-ä½¿ç”¨Springæä¾›çš„åˆå§‹åŒ–å™¨ï¼Œ-å°±æ˜¯å‘å¯¼åˆ›å»ºSpringBootåº”ç”¨"><a href="#2-2-1-ç¬¬ä¸€ç§æ–¹å¼ï¼Œ-ä½¿ç”¨Springæä¾›çš„åˆå§‹åŒ–å™¨ï¼Œ-å°±æ˜¯å‘å¯¼åˆ›å»ºSpringBootåº”ç”¨" class="headerlink" title="2.2.1 ç¬¬ä¸€ç§æ–¹å¼ï¼Œ ä½¿ç”¨Springæä¾›çš„åˆå§‹åŒ–å™¨ï¼Œ å°±æ˜¯å‘å¯¼åˆ›å»ºSpringBootåº”ç”¨"></a>2.2.1 ç¬¬ä¸€ç§æ–¹å¼ï¼Œ ä½¿ç”¨Springæä¾›çš„åˆå§‹åŒ–å™¨ï¼Œ å°±æ˜¯å‘å¯¼åˆ›å»ºSpringBootåº”ç”¨</h3><p>ä½¿ç”¨çš„åœ°å€ï¼š <a href="https://start.spring.io/">https://start.spring.io</a></p><p>SpringBooté¡¹ç›®çš„ç»“æ„ï¼š</p><p><img src="D:\course\25-SpringBoot\ç¬”è®°\images\image-20210115152427829.png" alt="image-20210115152427829"></p><h3 id="2-2-1-ä½¿ç”¨å›½å†…çš„åœ°å€"><a href="#2-2-1-ä½¿ç”¨å›½å†…çš„åœ°å€" class="headerlink" title="2.2.1  ä½¿ç”¨å›½å†…çš„åœ°å€"></a>2.2.1  ä½¿ç”¨å›½å†…çš„åœ°å€</h3><p><a href="https://start.springboot.io/">https://start.springboot.io</a></p><p><img src="D:\course\25-SpringBoot\ç¬”è®°\images\image-20210115155556662.png" alt="image-20210115155556662"></p><h2 id="2-3-æ³¨è§£çš„ä½¿ç”¨"><a href="#2-3-æ³¨è§£çš„ä½¿ç”¨" class="headerlink" title="2.3  æ³¨è§£çš„ä½¿ç”¨"></a>2.3  æ³¨è§£çš„ä½¿ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br>ç¬¦åˆæ³¨è§£ï¼šç”±<br><span class="hljs-meta">@SpringBootConfiguration</span><br><span class="hljs-meta">@EnableAutoConfiguration</span><br><span class="hljs-meta">@ComponentScan</span><br>    <br>    <br><span class="hljs-number">1.</span><span class="hljs-meta">@SpringBootConfiguration</span><br>    <br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> SpringBootConfiguration &#123;<br>    <span class="hljs-meta">@AliasFor(</span><br><span class="hljs-meta">        annotation = Configuration.class</span><br><span class="hljs-meta">    )</span><br>    <span class="hljs-type">boolean</span> <span class="hljs-title function_">proxyBeanMethods</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br>è¯´æ˜ï¼šä½¿ç”¨äº†<span class="hljs-meta">@SpringBootConfiguration</span>æ³¨è§£æ ‡æ³¨çš„ç±»ï¼Œå¯ä»¥ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ï¼Œ<br>    å¯ä»¥ä½¿ç”¨Beanå£°æ˜å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨<br><br></code></pre></td></tr></table></figure><p>2.@EnableAutoConfiguration</p><p>å¯ç”¨è‡ªåŠ¨é…ç½®ï¼Œ æŠŠjavaå¯¹è±¡é…ç½®å¥½ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ã€‚ä¾‹å¦‚å¯ä»¥æŠŠmybatisçš„å¯¹è±¡åˆ›å»ºå¥½ï¼Œæ”¾å…¥åˆ°å®¹å™¨ä¸­</p><p>3.@ComponentScan</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@ComponentScan</span> æ‰«æå™¨ï¼Œæ‰¾åˆ°æ³¨è§£ï¼Œæ ¹æ®æ³¨è§£çš„åŠŸèƒ½åˆ›å»ºå¯¹è±¡ï¼Œç»™å±æ€§èµ‹å€¼ç­‰ç­‰ã€‚<br>é»˜è®¤æ‰«æçš„åŒ…ï¼š <span class="hljs-meta">@ComponentScan</span>æ‰€åœ¨çš„ç±»æ‰€åœ¨çš„åŒ…å’Œå­åŒ…ã€‚<br>    <br></code></pre></td></tr></table></figure><h2 id="2-4-SpringBootçš„é…ç½®æ–‡ä»¶"><a href="#2-4-SpringBootçš„é…ç½®æ–‡ä»¶" class="headerlink" title="2.4 SpringBootçš„é…ç½®æ–‡ä»¶"></a>2.4 SpringBootçš„é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶åç§°ï¼š application</p><p>æ‰©å±•åæœ‰ï¼š properties( k&#x3D;v) ;  yml ( k: v)</p><p>ä½¿ç”¨application.properties,   application.yml</p><p>ä¾‹1ï¼šapplication.propertiesè®¾ç½® ç«¯å£å’Œä¸Šä¸‹æ–‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml">#è®¾ç½®ç«¯å£å·<br>server.port=8082<br>#è®¾ç½®è®¿é—®åº”ç”¨ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œ contextpath<br>server.servlet.context-path=/myboot<br><br></code></pre></td></tr></table></figure><p>ä¾‹2ï¼š application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8083</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/myboot2</span><br></code></pre></td></tr></table></figure><h2 id="2-5-å¤šç¯å¢ƒé…ç½®"><a href="#2-5-å¤šç¯å¢ƒé…ç½®" class="headerlink" title="2.5 å¤šç¯å¢ƒé…ç½®"></a>2.5 å¤šç¯å¢ƒé…ç½®</h2><p>æœ‰å¼€å‘ç¯å¢ƒï¼Œ æµ‹è¯•ç¯å¢ƒï¼Œ ä¸Šçº¿çš„ç¯å¢ƒã€‚</p><p>æ¯ä¸ªç¯å¢ƒæœ‰ä¸åŒçš„é…ç½®ä¿¡æ¯ï¼Œ ä¾‹å¦‚ç«¯å£ï¼Œ ä¸Šä¸‹æ–‡ä»¶ï¼Œ æ•°æ®åº“urlï¼Œç”¨æˆ·åï¼Œå¯†ç ç­‰ç­‰</p><p>ä½¿ç”¨å¤šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿çš„åˆ‡æ¢ä¸åŒçš„é…ç½®ã€‚</p><p>ä½¿ç”¨æ–¹å¼ï¼š åˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œ åç§°è§„åˆ™ï¼š application-ç¯å¢ƒåç§°.properties(yml)</p><p>åˆ›å»ºå¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼š application-dev.properties(  application-dev.yml )</p><p>åˆ›å»ºæµ‹è¯•è€…ä½¿ç”¨çš„é…ç½®ï¼š application-test.properties</p><h2 id="2-6-ConfigurationProperties"><a href="#2-6-ConfigurationProperties" class="headerlink" title="2.6 @ConfigurationProperties"></a>2.6 @ConfigurationProperties</h2><p>@ConfigurationProperties: æŠŠé…ç½®æ–‡ä»¶çš„æ•°æ®æ˜ å°„ä¸ºjavaå¯¹è±¡ã€‚</p><p>å±æ€§ï¼šprefix é…ç½®æ–‡ä»¶ä¸­çš„æŸäº›keyçš„å¼€å¤´çš„å†…å®¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;school&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SchoolInfo</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">private</span> String website;<br><br>    <span class="hljs-keyword">private</span> String address;<br><br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getWebsite</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> website;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setWebsite</span><span class="hljs-params">(String website)</span> &#123;<br>        <span class="hljs-built_in">this</span>.website = website;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAddress</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> address;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddress</span><span class="hljs-params">(String address)</span> &#123;<br>        <span class="hljs-built_in">this</span>.address = address;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;SchoolInfo&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, website=&#x27;&quot;</span> + website + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, address=&#x27;&quot;</span> + address + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>application.properties</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pro">#é…ç½®ç«¯å£å·<br>server.port=8082<br>#context-path<br>server.servlet.context-path=/myboot<br><br>#è‡ªå®šä¹‰key=value<br>school.name=åŠ¨åŠ›èŠ‚ç‚¹<br>school.website=www.bjpowernode.com<br>school.address=åŒ—äº¬çš„å¤§å…´åŒº<br><br>site=www.bjpowernode.com<br></code></pre></td></tr></table></figure><h2 id="2-7-ä½¿ç”¨jsp"><a href="#2-7-ä½¿ç”¨jsp" class="headerlink" title="2.7  ä½¿ç”¨jsp"></a>2.7  ä½¿ç”¨jsp</h2><p>SpringBootä¸æ¨èä½¿ç”¨jsp ï¼Œè€Œæ˜¯ä½¿ç”¨æ¨¡æ¿æŠ€æœ¯ä»£æ›¿jsp</p><p>ä½¿ç”¨jspéœ€è¦é…ç½®ï¼š</p><p>1ï¼‰ åŠ å…¥ä¸€ä¸ªå¤„ç†jspçš„ä¾èµ–ã€‚ è´Ÿè´£ç¼–è¯‘jspæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li>å¦‚æœéœ€è¦ä½¿ç”¨servletï¼Œ jspï¼Œjstlçš„åŠŸèƒ½</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br></code></pre></td></tr></table></figure><ol start="3"><li>åˆ›å»ºä¸€ä¸ªå­˜æ”¾jspçš„ç›®å½•ï¼Œä¸€èˆ¬å«åšwebapp</li></ol><p>â€‹    index.jsp</p><ol start="4"><li>éœ€è¦åœ¨pom.xmlæŒ‡å®šjspæ–‡ä»¶ç¼–è¯‘åçš„å­˜æ”¾ç›®å½•ã€‚</li></ol><p>  META-INF&#x2F;resources</p><p>5ï¼‰åˆ›å»ºControllerï¼Œ è®¿é—®jsp</p><p>6ï¼‰åœ¨application.propertisæ–‡ä»¶ä¸­é…ç½®è§†å›¾è§£æå™¨</p><h2 id="2-8-ä½¿ç”¨å®¹å™¨"><a href="#2-8-ä½¿ç”¨å®¹å™¨" class="headerlink" title="2.8 ä½¿ç”¨å®¹å™¨"></a>2.8 ä½¿ç”¨å®¹å™¨</h2><p>ä½ æƒ³é€šè¿‡ä»£ç ï¼Œä»å®¹å™¨ä¸­è·å–å¯¹è±¡ã€‚</p><p>é€šè¿‡SpringApplication.run(Application.class, args); è¿”å›å€¼è·å–å®¹å™¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ConfigurableApplicationContext <span class="hljs-title function_">run</span><span class="hljs-params">(Class&lt;?&gt; primarySource, String... args)</span> &#123;<br>        <span class="hljs-keyword">return</span> run(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>[]&#123;primarySource&#125;, args);<br>&#125;<br><br>ConfigurableApplicationContext : æ¥å£ï¼Œæ˜¯ApplicationContextçš„å­æ¥å£<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ConfigurableApplicationContext</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ApplicationContext</span><br></code></pre></td></tr></table></figure><h2 id="2-9-ComnandLineRunner-æ¥å£-ï¼Œ-ApplcationRunneræ¥å£"><a href="#2-9-ComnandLineRunner-æ¥å£-ï¼Œ-ApplcationRunneræ¥å£" class="headerlink" title="2.9 ComnandLineRunner æ¥å£ ï¼Œ  ApplcationRunneræ¥å£"></a>2.9 ComnandLineRunner æ¥å£ ï¼Œ  ApplcationRunneræ¥å£</h2><p>è¿™ä¸¤ä¸ªæ¥å£éƒ½ æœ‰ä¸€ä¸ªrunæ–¹æ³•ã€‚ æ‰§è¡Œæ—¶é—´åœ¨å®¹å™¨å¯¹è±¡åˆ›å»ºå¥½åï¼Œ è‡ªåŠ¨æ‰§è¡Œrunï¼ˆï¼‰æ–¹æ³•ã€‚</p><p>å¯ä»¥å®Œæˆè‡ªå®šä¹‰çš„åœ¨å®¹å™¨å¯¹è±¡åˆ›å»ºå¥½çš„ä¸€äº›æ“ä½œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@FunctionalInterface</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CommandLineRunner</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(String... args)</span> <span class="hljs-keyword">throws</span> Exception;<br>&#125;<br><br><span class="hljs-meta">@FunctionalInterface</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ApplicationRunner</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(ApplicationArguments args)</span> <span class="hljs-keyword">throws</span> Exception;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰ç« -Webç»„ä»¶"><a href="#ç¬¬ä¸‰ç« -Webç»„ä»¶" class="headerlink" title="ç¬¬ä¸‰ç«  Webç»„ä»¶"></a>ç¬¬ä¸‰ç«  Webç»„ä»¶</h1><p>è®²ä¸‰ä¸ªå†…å®¹ï¼š æ‹¦æˆªå™¨ï¼Œ Servlet ï¼ŒFilter</p><h2 id="3-1-æ‹¦æˆªå™¨"><a href="#3-1-æ‹¦æˆªå™¨" class="headerlink" title="3.1 æ‹¦æˆªå™¨"></a>3.1 æ‹¦æˆªå™¨</h2><p>æ‹¦æˆªå™¨æ˜¯SpringMVCä¸­ä¸€ç§å¯¹è±¡ï¼Œèƒ½æ‹¦æˆªå™¨å¯¹Controllerçš„è¯·æ±‚ã€‚</p><p>æ‹¦æˆªå™¨æ¡†æ¶ä¸­æœ‰ç³»ç»Ÿçš„æ‹¦æˆªå™¨ï¼Œ è¿˜å¯ä»¥è‡ªå®šä¹‰æ‹¦æˆªå™¨ã€‚  å®ç°å¯¹è¯·æ±‚é¢„å…ˆå¤„ç†ã€‚</p><p>å®ç°è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼š</p><ol><li><p>åˆ›å»ºç±»å®ç°SpringMVCæ¡†æ¶çš„HandlerInterceptoræ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br> <span class="hljs-keyword">default</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>     <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br> &#125;<br><br> <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, <span class="hljs-meta">@Nullable</span> ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br> &#125;<br><br> <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, <span class="hljs-meta">@Nullable</span> Exception ex)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>2.éœ€åœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜æ‹¦æˆªå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span><br>    &lt;mvc:path=&quot;url&quot; /&gt;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;æ‹¦æˆªå™¨ç±»å…¨é™å®šåç§°&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span><br></code></pre></td></tr></table></figure><p>SpringBootä¸­æ³¨å†Œæ‹¦æˆªå™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAppConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br><br>    <span class="hljs-comment">//æ·»åŠ æ‹¦æˆªå™¨å¯¹è±¡ï¼Œ æ³¨å…¥åˆ°å®¹å™¨ä¸­</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br><br>        <span class="hljs-comment">//åˆ›å»ºæ‹¦æˆªå™¨å¯¹è±¡</span><br>        <span class="hljs-type">HandlerInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginInterceptor</span>();<br><br>        <span class="hljs-comment">//æŒ‡å®šæ‹¦æˆªçš„è¯·æ±‚uriåœ°å€</span><br>        String path []= &#123;<span class="hljs-string">&quot;/user/**&quot;</span>&#125;;<br>        <span class="hljs-comment">//æŒ‡å®šä¸æ‹¦æˆªçš„åœ°å€</span><br>        String excludePath  [] = &#123;<span class="hljs-string">&quot;/user/login&quot;</span>&#125;;<br>        registry.addInterceptor(interceptor)<br>                .addPathPatterns(path)<br>                .excludePathPatterns(excludePath);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-2-Servlet"><a href="#3-2-Servlet" class="headerlink" title="3.2  Servlet"></a>3.2  Servlet</h2><p>åœ¨SpringBootæ¡†æ¶ä¸­ä½¿ç”¨Servletå¯¹è±¡ã€‚</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºServletç±»ã€‚ åˆ›å»ºç±»ç»§æ‰¿HttpServlet</li><li>æ³¨å†ŒServlet ï¼Œè®©æ¡†æ¶èƒ½æ‰¾åˆ°Servlet</li></ol><p> ä¾‹å­ï¼š</p><p>1.åˆ›å»ºè‡ªå®šä¹‰Servlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ›å»ºServletç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        doPost(req,resp);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>       <span class="hljs-comment">//ä½¿ç”¨HttpServletResponseè¾“å‡ºæ•°æ®ï¼Œåº”ç­”ç»“æœ</span><br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br>        <span class="hljs-type">PrintWriter</span> <span class="hljs-variable">out</span>  <span class="hljs-operator">=</span> resp.getWriter();<br>        out.println(<span class="hljs-string">&quot;===æ‰§è¡Œçš„æ˜¯Servlet==&quot;</span>);<br>        out.flush();<br>        out.close();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>æ³¨å†ŒServlet</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebApplictionConfig</span> &#123;<br><br>    <span class="hljs-comment">//å®šä¹‰æ–¹æ³•ï¼Œ æ³¨å†ŒServletå¯¹è±¡</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ServletRegistrationBean <span class="hljs-title function_">servletRegistrationBean</span><span class="hljs-params">()</span>&#123;<br><br>        <span class="hljs-comment">//public ServletRegistrationBean(T servlet, String... urlMappings)</span><br>        <span class="hljs-comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Servletå¯¹è±¡ï¼Œ ç¬¬äºŒä¸ªæ˜¯urlåœ°å€</span><br><br>        <span class="hljs-comment">//ServletRegistrationBean bean =</span><br>                <span class="hljs-comment">//new ServletRegistrationBean( new MyServlet(),&quot;/myservlet&quot;);</span><br><br><br>        <span class="hljs-type">ServletRegistrationBean</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRegistrationBean</span>();<br>        bean.setServlet( <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyServlet</span>());<br>        bean.addUrlMappings(<span class="hljs-string">&quot;/login&quot;</span>,<span class="hljs-string">&quot;/test&quot;</span>); <span class="hljs-comment">// &lt;url-pattern&gt;</span><br><br><br>        <span class="hljs-keyword">return</span> bean;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-3-è¿‡æ»¤å™¨Filter"><a href="#3-3-è¿‡æ»¤å™¨Filter" class="headerlink" title="3.3 è¿‡æ»¤å™¨Filter"></a>3.3 è¿‡æ»¤å™¨Filter</h2><p>Filteræ˜¯Servletè§„èŒƒä¸­çš„è¿‡æ»¤å™¨ï¼Œå¯ä»¥å¤„ç†è¯·æ±‚ï¼Œ å¯¹è¯·æ±‚çš„å‚æ•°ï¼Œ å±æ€§è¿›è¡Œè°ƒæ•´ã€‚ å¸¸å¸¸åœ¨è¿‡æ»¤å™¨ä¸­å¤„ç†å­—ç¬¦ç¼–ç </p><p>åœ¨æ¡†æ¶ä¸­ä½¿ç”¨è¿‡æ»¤å™¨ï¼š</p><ol><li>åˆ›å»ºè‡ªå®šä¹‰è¿‡æ»¤å™¨ç±»</li><li>æ³¨å†ŒFilterè¿‡æ»¤å™¨å¯¹è±¡</li></ol><p>ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è‡ªå®šä¹‰è¿‡æ»¤å™¨</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œäº†MyFilterï¼ŒdoFilter &quot;</span>);<br>        filterChain.doFilter(servletRequest,servletResponse);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨å†ŒFilter</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebApplicationConfig</span> &#123;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> FilterRegistrationBean <span class="hljs-title function_">filterRegistrationBean</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">FilterRegistrationBean</span> <span class="hljs-variable">bean</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FilterRegistrationBean</span>();<br>        bean.setFilter( <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFilter</span>());<br>        bean.addUrlPatterns(<span class="hljs-string">&quot;/user/*&quot;</span>);<br>        <span class="hljs-keyword">return</span> bean;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-4-å­—ç¬¦é›†è¿‡æ»¤å™¨"><a href="#3-4-å­—ç¬¦é›†è¿‡æ»¤å™¨" class="headerlink" title="3.4 å­—ç¬¦é›†è¿‡æ»¤å™¨"></a>3.4 å­—ç¬¦é›†è¿‡æ»¤å™¨</h2><p>CharacterEncodingFilter : è§£å†³postè¯·æ±‚ä¸­ä¹±ç çš„é—®é¢˜</p><p>åœ¨SpringMVCæ¡†æ¶ï¼Œ åœ¨web.xml æ³¨å†Œè¿‡æ»¤å™¨ã€‚ é…ç½®ä»–çš„å±æ€§ã€‚ </p><p>ç¬¬ä¸€ç§æ–¹å¼ï¼š</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>é…ç½®å­—ç¬¦é›†è¿‡æ»¤å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSystemConfig</span> &#123;<br><br>    <span class="hljs-comment">//æ³¨å†ŒServlet</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ServletRegistrationBean <span class="hljs-title function_">servletRegistrationBean</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">MyServlet</span> <span class="hljs-variable">myServlet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyServlet</span>();<br>        <span class="hljs-type">ServletRegistrationBean</span> <span class="hljs-variable">reg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRegistrationBean</span>(myServlet,<span class="hljs-string">&quot;/myservlet&quot;</span>);<br>        <span class="hljs-keyword">return</span> reg;<br>    &#125;<br><br><br>    <span class="hljs-comment">//æ³¨å†ŒFilter</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> FilterRegistrationBean <span class="hljs-title function_">filterRegistrationBean</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">FilterRegistrationBean</span> <span class="hljs-variable">reg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FilterRegistrationBean</span>();<br><br>        <span class="hljs-comment">//ä½¿ç”¨æ¡†æ¶ä¸­çš„è¿‡æ»¤å™¨ç±»</span><br>        <span class="hljs-type">CharacterEncodingFilter</span> <span class="hljs-variable">filter</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CharacterEncodingFilter</span>();<br>        <span class="hljs-comment">//æŒ‡å®šä½¿ç”¨çš„ç¼–ç æ–¹å¼</span><br>        filter.setEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        <span class="hljs-comment">//æŒ‡å®šrequest ï¼Œ responseéƒ½ä½¿ç”¨encodingçš„å€¼</span><br>        filter.setForceEncoding(<span class="hljs-literal">true</span>);<br><br>        reg.setFilter(filter);<br>        <span class="hljs-comment">//æŒ‡å®š è¿‡æ»¤çš„urlåœ°å€</span><br>        reg.addUrlPatterns(<span class="hljs-string">&quot;/*&quot;</span>);<br><br><br>        <span class="hljs-keyword">return</span> reg;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹application.propertiesæ–‡ä»¶ï¼Œ è®©è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨èµ·ä½œç”¨</p></li></ol><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#SpringBootä¸­é»˜è®¤å·²ç»é…ç½®äº†CharacterEncodingFilterã€‚ ç¼–ç é»˜è®¤ISO-8859-1</span><br><span class="hljs-comment">#è®¾ç½®enabled=false ä½œç”¨æ˜¯å…³é—­ç³»ç»Ÿä¸­é…ç½®å¥½çš„è¿‡æ»¤å™¨ï¼Œ ä½¿ç”¨è‡ªå®šä¹‰çš„CharacterEncodingFilter</span><br><span class="hljs-attr">server.servlet.encoding.enabled</span>=<span class="hljs-string">false</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒç§æ–¹å¼</p><p>ä¿®æ”¹application.propertiesæ–‡ä»¶</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">server.port</span>=<span class="hljs-string">9001</span><br><span class="hljs-attr">server.servlet.context-path</span>=<span class="hljs-string">/myboot</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#è®©ç³»ç»Ÿçš„CharacterEncdoingFilterç”Ÿæ•ˆ</span><br><span class="hljs-attr">server.servlet.encoding.enabled</span>=<span class="hljs-string">true</span><br><span class="hljs-comment">#æŒ‡å®šä½¿ç”¨çš„ç¼–ç æ–¹å¼</span><br><span class="hljs-attr">server.servlet.encoding.charset</span>=<span class="hljs-string">utf-8</span><br><span class="hljs-comment">#å¼ºåˆ¶requestï¼Œresponseéƒ½ä½¿ç”¨charsetå±æ€§çš„å€¼</span><br><span class="hljs-attr">server.servlet.encoding.force</span>=<span class="hljs-string">true</span><br></code></pre></td></tr></table></figure><h1 id="ç¬¬å››ç« -ORM-æ“ä½œ-MySQL"><a href="#ç¬¬å››ç« -ORM-æ“ä½œ-MySQL" class="headerlink" title="ç¬¬å››ç«  ORM æ“ä½œ MySQL"></a>ç¬¬å››ç«  ORM æ“ä½œ MySQL</h1><p>ä½¿ç”¨MyBatisæ¡†æ¶æ“ä½œæ•°æ®ï¼Œ  åœ¨SpringBootæ¡†æ¶é›†æˆMyBatis</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>mybatisèµ·æ­¥ä¾èµ– ï¼š å®Œæˆmybatiså¯¹è±¡è‡ªåŠ¨é…ç½®ï¼Œ å¯¹è±¡æ”¾åœ¨å®¹å™¨ä¸­</p></li><li><p>pom.xml æŒ‡å®šæŠŠsrc&#x2F;main&#x2F;javaç›®å½•ä¸­çš„xmlæ–‡ä»¶åŒ…å«åˆ°classpathä¸­</p></li><li><p>åˆ›å»ºå®ä½“ç±»Student</p></li><li><p>åˆ›å»ºDaoæ¥å£ StudentDao , åˆ›å»ºä¸€ä¸ªæŸ¥è¯¢å­¦ç”Ÿçš„æ–¹æ³• </p></li><li><p>åˆ›å»ºDaoæ¥å£å¯¹åº”çš„Mapperæ–‡ä»¶ï¼Œ xmlæ–‡ä»¶ï¼Œ å†™sqlè¯­å¥</p></li><li><p>åˆ›å»ºServiceå±‚å¯¹è±¡ï¼Œ åˆ›å»ºStudentServiceæ¥å£å’Œä»–çš„å®ç°ç±»ã€‚ å»daoå¯¹è±¡çš„æ–¹æ³•ã€‚å®Œæˆæ•°æ®åº“çš„æ“ä½œ</p></li><li><p>åˆ›å»ºControllerå¯¹è±¡ï¼Œè®¿é—®Serviceã€‚</p></li><li><p>å†™application.propertiesæ–‡ä»¶</p><p>é…ç½®æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ã€‚</p></li></ol><h3 id="ç¬¬ä¸€ç§æ–¹å¼-ï¼š-Mapper"><a href="#ç¬¬ä¸€ç§æ–¹å¼-ï¼š-Mapper" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼ ï¼š @Mapper"></a>ç¬¬ä¸€ç§æ–¹å¼ ï¼š @Mapper</h3><p>@Mapperï¼šæ”¾åœ¨daoæ¥å£çš„ä¸Šé¢ï¼Œ æ¯ä¸ªæ¥å£éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ³¨è§£ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Mapper</span>ï¼šå‘Šè¯‰MyBatisè¿™æ˜¯daoæ¥å£ï¼Œåˆ›å»ºæ­¤æ¥å£çš„ä»£ç†å¯¹è±¡ã€‚</span><br><span class="hljs-comment"> *     ä½ç½®ï¼šåœ¨ç±»çš„ä¸Šé¢</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">StudentDao</span> &#123;<br><br>    Student <span class="hljs-title function_">selectById</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;stuId&quot;)</span> Integer id)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¬¬äºŒç§æ–¹å¼-MapperScan"><a href="#ç¬¬äºŒç§æ–¹å¼-MapperScan" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼  @MapperScan"></a>ç¬¬äºŒç§æ–¹å¼  @MapperScan</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@MapperScan</span>: æ‰¾åˆ°Daoæ¥å£å’ŒMapperæ–‡ä»¶</span><br><span class="hljs-comment"> *     basePackagesï¼šDaoæ¥å£æ‰€åœ¨çš„åŒ…å</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@MapperScan(basePackages = &#123;&quot;com.bjpowernode.dao&quot;,&quot;com.bjpowernode.mapper&quot;&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰ç§æ–¹å¼ï¼š-Mapperæ–‡ä»¶å’ŒDaoæ¥å£åˆ†å¼€ç®¡ç†"><a href="#ç¬¬ä¸‰ç§æ–¹å¼ï¼š-Mapperæ–‡ä»¶å’ŒDaoæ¥å£åˆ†å¼€ç®¡ç†" class="headerlink" title="ç¬¬ä¸‰ç§æ–¹å¼ï¼š Mapperæ–‡ä»¶å’ŒDaoæ¥å£åˆ†å¼€ç®¡ç†"></a>ç¬¬ä¸‰ç§æ–¹å¼ï¼š Mapperæ–‡ä»¶å’ŒDaoæ¥å£åˆ†å¼€ç®¡ç†</h3><p> ç°åœ¨æŠŠMapperæ–‡ä»¶æ”¾åœ¨resourcesç›®å½•ä¸‹</p><p>1ï¼‰åœ¨resourcesç›®å½•ä¸­åˆ›å»ºå­ç›®å½• ï¼ˆè‡ªå®šä¹‰çš„ï¼‰ ï¼Œ ä¾‹å¦‚mapper</p><p>2ï¼‰æŠŠmapperæ–‡ä»¶æ”¾åˆ° mapperç›®å½•ä¸­</p><p>3ï¼‰åœ¨application.propertiesæ–‡ä»¶ä¸­ï¼ŒæŒ‡å®šmapperæ–‡ä»¶çš„ç›®å½•</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#æŒ‡å®šmapperæ–‡ä»¶çš„ä½ç½®</span><br><span class="hljs-attr">mybatis.mapper-locations</span>=<span class="hljs-string">classpath:mapper/*.xml</span><br><span class="hljs-comment">#æŒ‡å®šmybatisçš„æ—¥å¿—</span><br><span class="hljs-attr">mybatis.configuration.log-impl</span>=<span class="hljs-string">org.apache.ibatis.logging.stdout.StdOutImpl</span><br></code></pre></td></tr></table></figure><ol start="4"><li>åœ¨pom.xmlä¸­æŒ‡å®š æŠŠresourcesç›®å½•ä¸­çš„æ–‡ä»¶ ï¼Œ ç¼–è¯‘åˆ°ç›®æ ‡ç›®å½•ä¸­</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--resourcesæ’ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.*<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="ç¬¬å››ä¸ª-äº‹åŠ¡"><a href="#ç¬¬å››ä¸ª-äº‹åŠ¡" class="headerlink" title="ç¬¬å››ä¸ª  äº‹åŠ¡"></a>ç¬¬å››ä¸ª  äº‹åŠ¡</h3><p>Springæ¡†æ¶ä¸­çš„äº‹åŠ¡ï¼š</p><p>1ï¼‰ ç®¡ç†äº‹åŠ¡çš„å¯¹è±¡ï¼š äº‹åŠ¡ç®¡ç†å™¨ï¼ˆæ¥å£ï¼Œ æ¥å£æœ‰å¾ˆå¤šçš„å®ç°ç±»ï¼‰</p><p>â€‹      ä¾‹å¦‚ï¼šä½¿ç”¨Jdbcæˆ–mybatisè®¿é—®æ•°æ®åº“ï¼Œä½¿ç”¨çš„äº‹åŠ¡ç®¡ç†å™¨ï¼šDataSourceTransactionManager</p><p>2 ) å£°æ˜å¼äº‹åŠ¡ï¼š  åœ¨xmlé…ç½®æ–‡ä»¶æˆ–è€…ä½¿ç”¨æ³¨è§£è¯´æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹</p><p>â€‹     æ§åˆ¶äº‹åŠ¡ï¼š éš”ç¦»çº§åˆ«ï¼Œä¼ æ’­è¡Œä¸ºï¼Œ è¶…æ—¶æ—¶é—´</p><p>3ï¼‰äº‹åŠ¡å¤„ç†æ–¹å¼ï¼š</p><p>â€‹      1ï¼‰ Springæ¡†æ¶ä¸­çš„@Transactional</p><p>â€‹      2)    aspectjæ¡†æ¶å¯ä»¥åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹</p><p>â€‹    </p><p>SpringBootä¸­ä½¿ç”¨äº‹åŠ¡ï¼š ä¸Šé¢çš„ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ã€‚</p><p>1ï¼‰åœ¨ä¸šåŠ¡æ–¹æ³•çš„ä¸Šé¢åŠ å…¥@Transactional ,  åŠ å…¥æ³¨è§£åï¼Œæ–¹æ³•æœ‰äº‹åŠ¡åŠŸèƒ½äº†ã€‚</p><p>2ï¼‰æ˜ç¡®çš„åœ¨ ä¸»å¯åŠ¨ç±»çš„ä¸Šé¢ ï¼ŒåŠ å…¥@EnableTransactionManager</p><p>ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Transactional</span>: è¡¨ç¤ºæ–¹æ³•çš„æœ‰äº‹åŠ¡æ”¯æŒ</span><br><span class="hljs-comment"> *       é»˜è®¤ï¼šä½¿ç”¨åº“çš„éš”ç¦»çº§åˆ«ï¼Œ REQUIRED ä¼ æ’­è¡Œä¸ºï¼› è¶…æ—¶æ—¶é—´  -1</span><br><span class="hljs-comment"> *       æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Transactional</span><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">addStudent</span><span class="hljs-params">(Student student)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;ä¸šåŠ¡æ–¹æ³•addStudent&quot;</span>);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span>  <span class="hljs-operator">=</span>  studentDao.insert(student);<br>    System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œsqlè¯­å¥&quot;</span>);<br><br>    <span class="hljs-comment">//æŠ›å‡ºä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ï¼Œ ç›®çš„æ˜¯å›æ»šäº‹åŠ¡</span><br>    <span class="hljs-comment">//int m   = 10 / 0 ;</span><br><br>    <span class="hljs-keyword">return</span> rows;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äº”ç« -æ¥å£æ¶æ„é£æ ¼-â€”RESTful"><a href="#ç¬¬äº”ç« -æ¥å£æ¶æ„é£æ ¼-â€”RESTful" class="headerlink" title="ç¬¬äº”ç«  æ¥å£æ¶æ„é£æ ¼ â€”RESTful"></a>ç¬¬äº”ç«  æ¥å£æ¶æ„é£æ ¼ â€”RESTful</h1><p>æ¥å£ï¼š APIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºæ¥å£ï¼‰æ˜¯ä¸€äº›é¢„å…ˆå®šä¹‰çš„æ¥å£ï¼ˆå¦‚å‡½æ•°ã€HTTPæ¥å£ï¼‰ï¼Œæˆ–æŒ‡<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/224122">è½¯ä»¶ç³»ç»Ÿ</a>ä¸åŒç»„æˆéƒ¨åˆ†è¡”æ¥çš„çº¦å®šã€‚ ç”¨æ¥æä¾›<a href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F">åº”ç”¨ç¨‹åº</a>ä¸å¼€å‘äººå‘˜åŸºäºæŸ<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6">è½¯ä»¶</a>æˆ–ç¡¬ä»¶å¾—ä»¥è®¿é—®çš„ä¸€ç»„<a href="https://baike.baidu.com/item/%E4%BE%8B%E7%A8%8B/2390628">ä¾‹ç¨‹</a>ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨<a href="https://baike.baidu.com/item/%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/9905789">å·¥ä½œæœºåˆ¶</a>çš„ç»†èŠ‚ã€‚</p><p>æ¥å£ï¼ˆAPIï¼‰ï¼š å¯ä»¥æŒ‡è®¿é—®servletï¼Œ controllerçš„urlï¼Œ   è°ƒç”¨å…¶ä»–ç¨‹åºçš„ å‡½æ•°</p><p>æ¶æ„é£æ ¼ï¼š apiç»„ç»‡æ–¹å¼ï¼ˆæ ·å­ï¼‰</p><p>   å°±æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„ï¼š    <a href="http://localhost:9002/mytrans/addStudent?name=lisi&age=26">http://localhost:9002/mytrans/addStudent?name=lisi&amp;age=26</a> </p><p>â€‹                                      åœ¨åœ°å€ä¸Šæä¾›äº† è®¿é—®çš„èµ„æºåç§°addStudent, åœ¨å…¶åä½¿ç”¨äº†getæ–¹å¼ä¼ é€’å‚æ•°ã€‚</p><h3 id="5-1-REST"><a href="#5-1-REST" class="headerlink" title="5.1  REST"></a>5.1  REST</h3><p>RESTfulæ¶æ„é£æ ¼</p><p>1)REST :  ï¼ˆè‹±æ–‡ï¼š Representational State Transfer , ä¸­æ–‡ï¼š è¡¨ç°å±‚çŠ¶æ€è½¬ç§»)ã€‚</p><p>   RESTï¼šæ˜¯ä¸€ç§æ¥å£çš„æ¶æ„é£æ ¼å’Œè®¾è®¡çš„ç†å¿µï¼Œä¸æ˜¯æ ‡å‡†ã€‚</p><p>   ä¼˜ç‚¹ï¼š æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡</p><p>   è¡¨ç°å±‚çŠ¶æ€è½¬ç§»: </p><p>â€‹         è¡¨ç°å±‚å°±æ˜¯è§†å›¾å±‚ï¼Œ æ˜¾ç¤ºèµ„æºçš„ï¼Œ é€šè¿‡è§†å›¾é¡µé¢ï¼Œjspç­‰ç­‰æ˜¾ç¤ºæ“ä½œèµ„æºçš„ç»“æœã€‚</p><p>â€‹          çŠ¶æ€ï¼š èµ„æºå˜åŒ–</p><p>â€‹         è½¬ç§»ï¼š èµ„æºå¯ä»¥å˜åŒ–çš„ã€‚ èµ„æºèƒ½åˆ›å»ºï¼ŒnewçŠ¶æ€ï¼Œ  èµ„æºåˆ›å»ºåå¯ä»¥æŸ¥è¯¢èµ„æºï¼Œ èƒ½çœ‹åˆ°èµ„æºçš„å†…å®¹ï¼Œ</p><p>è¿™ä¸ªèµ„æºå†…å®¹ ï¼Œå¯ä»¥è¢«ä¿®æ”¹ï¼Œ ä¿®æ”¹åèµ„æº å’Œä¹‹å‰çš„ä¸ä¸€æ ·ã€‚  </p><p>2ï¼‰RESTä¸­çš„è¦ç´ ï¼š</p><p>   ç”¨RESTè¡¨ç¤ºèµ„æºå’Œå¯¹èµ„æºçš„æ“ä½œã€‚  åœ¨äº’è”ç½‘ä¸­ï¼Œè¡¨ç¤ºä¸€ä¸ªèµ„æºæˆ–è€…ä¸€ä¸ªæ“ä½œã€‚ </p><p>   èµ„æºä½¿ç”¨urlè¡¨ç¤ºçš„ï¼Œ åœ¨äº’è”ç½‘ï¼Œ ä½¿ç”¨çš„å›¾ç‰‡ï¼Œè§†é¢‘ï¼Œ æ–‡æœ¬ï¼Œç½‘é¡µç­‰ç­‰éƒ½æ˜¯èµ„æºã€‚</p><p>   èµ„æºæ˜¯ç”¨åè¯è¡¨ç¤ºã€‚</p><p>  å¯¹èµ„æºï¼š </p><p>â€‹        æŸ¥è¯¢èµ„æºï¼š çœ‹ï¼Œé€šè¿‡urlæ‰¾åˆ°èµ„æºã€‚ </p><p>â€‹        åˆ›å»ºèµ„æºï¼š æ·»åŠ èµ„æº</p><p>â€‹        æ›´æ–°èµ„æºï¼šæ›´æ–°èµ„æº ï¼Œç¼–è¾‘</p><p>â€‹        åˆ é™¤èµ„æºï¼š å»é™¤</p><p>â€‹       </p><p> èµ„æºä½¿ç”¨urlè¡¨ç¤ºï¼Œé€šè¿‡åè¯è¡¨ç¤ºèµ„æºã€‚</p><p>â€‹     åœ¨urlä¸­ï¼Œä½¿ç”¨åè¯è¡¨ç¤ºèµ„æºï¼Œ ä»¥åŠè®¿é—®èµ„æºçš„ä¿¡æ¯,  åœ¨urlä¸­ï¼Œä½¿ç”¨â€œ &#x2F; â€œ åˆ†éš”å¯¹èµ„æºçš„ä¿¡æ¯</p><p>â€‹     <a href="http://localhost:8080/myboot/student/1001">http://localhost:8080/myboot/student/1001</a></p><p> ä½¿ç”¨httpä¸­çš„åŠ¨ä½œï¼ˆè¯·æ±‚æ–¹å¼ï¼‰ï¼Œ è¡¨ç¤ºå¯¹èµ„æºçš„æ“ä½œï¼ˆCURDï¼‰</p><p>   GET:  æŸ¥è¯¢èµ„æº  â€“  sql select</p><p>â€‹                 å¤„ç†å•ä¸ªèµ„æºï¼š ç”¨ä»–çš„å•æ•°æ–¹å¼</p><p>â€‹                  <a href="http://localhost:8080/myboot/student/1001">http://localhost:8080/myboot/student/1001</a></p><p>â€‹                 <a href="http://localhost:8080/myboot/student/1001/1">http://localhost:8080/myboot/student/1001/1</a></p><p>â€‹                å¤„ç†å¤šä¸ªèµ„æºï¼šä½¿ç”¨å¤æ•°å½¢å¼</p><p>â€‹                  <a href="http://localhost:8080/myboot/students/1001/1002">http://localhost:8080/myboot/students/1001/1002</a></p><p>â€‹                </p><p>   POST: åˆ›å»ºèµ„æº  â€“ sql insert</p><p>â€‹                <a href="http://localhost:8080/myboot/student">http://localhost:8080/myboot/student</a></p><p>â€‹                åœ¨postè¯·æ±‚ä¸­ä¼ é€’æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080/myboot/student&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>å§“åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span><br>    å¹´é¾„ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><p>   PUTï¼š æ›´æ–°èµ„æº  â€“  sql  update</p>   <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080/myboot/student/1&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>å§“åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span><br>    å¹´é¾„ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> /&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;_method&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;PUT&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><p>   DELETE: åˆ é™¤èµ„æº  â€“ sql delete</p><pre><code class="hljs"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8080/myboot/student/1&quot;</span>&gt;</span>åˆ é™¤1çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure></code></pre><p> éœ€è¦çš„åˆ†é¡µï¼Œ  æ’åºç­‰å‚æ•°ï¼Œä¾ç„¶æ”¾åœ¨  urlçš„åé¢ï¼Œ ä¾‹å¦‚ </p><p> <a href="http://localhost:8080/myboot/students?page=1&pageSize=20">http://localhost:8080/myboot/students?page=1&amp;pageSize=20</a></p><p>   &#96;</p><p>3ï¼‰ ä¸€å¥è¯è¯´æ˜RESTï¼š </p><p>â€‹    ä½¿ç”¨urlè¡¨ç¤ºèµ„æº ï¼Œä½¿ç”¨httpåŠ¨ä½œæ“ä½œèµ„æºã€‚</p><ol start="4"><li>æ³¨è§£</li></ol><p>  @PathVariable :  ä»urlä¸­è·å–æ•°æ®</p><p>  @GetMapping:    æ”¯æŒçš„getè¯·æ±‚æ–¹å¼ï¼Œ  ç­‰åŒäº @RequestMapping( method&#x3D;RequestMethod.GET)</p><p>  @PostMapping:  æ”¯æŒpostè¯·æ±‚æ–¹å¼ ï¼Œç­‰åŒäº @RequestMapping( method&#x3D;RequestMethod.POST)</p><p>  @PutMapping:  æ”¯æŒputè¯·æ±‚æ–¹å¼ï¼Œ  ç­‰åŒäº @RequestMapping( method&#x3D;RequestMethod.PUT)</p><p>   @DeleteMapping: æ”¯æŒdeleteè¯·æ±‚æ–¹å¼ï¼Œ  ç­‰åŒäº @RequestMapping( method&#x3D;RequestMethod.DELETE)</p><p>  @RestController:  ç¬¦åˆæ³¨è§£ï¼Œ æ˜¯@Controller å’Œ@ResponseBodyç»„åˆã€‚</p><p>â€‹               åœ¨ç±»çš„ä¸Šé¢ä½¿ç”¨@RestController ï¼Œ è¡¨ç¤ºå½“å‰ç±»è€…çš„æ‰€æœ‰æ–¹æ³•éƒ½åŠ å…¥äº† @ResponseBody</p><ol start="5"><li><p>Postman : æµ‹è¯•å·¥å…·</p><p>ä½¿ç”¨Postman : å¯ä»¥æµ‹è¯• get ï¼Œpost ï¼Œ put ï¼Œdelete ç­‰è¯·æ±‚</p></li></ol><h3 id="5-2-åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­ï¼Œæ”¯æŒputï¼Œdeleteè¯·æ±‚"><a href="#5-2-åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­ï¼Œæ”¯æŒputï¼Œdeleteè¯·æ±‚" class="headerlink" title="5.2  åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­ï¼Œæ”¯æŒputï¼Œdeleteè¯·æ±‚"></a>5.2  åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­ï¼Œæ”¯æŒputï¼Œdeleteè¯·æ±‚</h3><p>åœ¨SpringMVCä¸­ æœ‰ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œ æ”¯æŒpostè¯·æ±‚è½¬ä¸ºput ,delete</p><p>è¿‡æ»¤å™¨ï¼š org.springframework.web.filter.HiddenHttpMethodFilter</p><p>ä½œç”¨ï¼š æŠŠè¯·æ±‚ä¸­çš„postè¯·æ±‚è½¬ä¸º put ï¼Œ delete</p><p>å®ç°æ­¥éª¤ï¼š</p><ol><li>application.properties(yml) : å¼€å¯ä½¿ç”¨ HiddenHttpMethodFilter è¿‡æ»¤å™¨</li><li>åœ¨è¯·æ±‚é¡µé¢ä¸­ï¼ŒåŒ…å« _methodå‚æ•°ï¼Œ ä»–çš„å€¼æ˜¯ putï¼Œ delete  ï¼Œ  å‘èµ·è¿™ä¸ªè¯·æ±‚ä½¿ç”¨çš„postæ–¹å¼</li></ol><h1 id="ç¬¬å…­ç« -Redis"><a href="#ç¬¬å…­ç« -Redis" class="headerlink" title="ç¬¬å…­ç«  Redis"></a>ç¬¬å…­ç«  Redis</h1><p>Redis ï¼š ä¸€ä¸ªNoSQLæ•°æ®åº“ï¼Œ  å¸¸ç”¨ä½œ ç¼“å­˜ä½¿ç”¨ ï¼ˆcacheï¼‰</p><p>Redisçš„æ•°æ®ç±»å‹ï¼š string  ,  hash  ,set  ,zset , list</p><p>Redisæ˜¯ä¸€ä¸ªä¸­é—´ä»¶ï¼š æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡å™¨ã€‚</p><p>javaä¸­è‘—åçš„å®¢æˆ·ç«¯ï¼š Jedis ï¼Œ  lettuce ï¼Œ Redisson</p><p>Spring,SpringBootä¸­æœ‰ ä¸€ä¸ªRedisTemplateï¼ˆStringRedisTemplateï¼‰ ï¼Œå¤„ç†å’Œredisäº¤äº’  </p><h2 id="6-1-é…ç½®Windowsç‰ˆæœ¬çš„redis"><a href="#6-1-é…ç½®Windowsç‰ˆæœ¬çš„redis" class="headerlink" title="6.1  é…ç½®Windowsç‰ˆæœ¬çš„redis"></a>6.1  é…ç½®Windowsç‰ˆæœ¬çš„redis</h2><p>Redis-x64-3.2.100.rar è§£å‹ç¼©åˆ°ä¸€ä¸ª éä¸­æ–‡ çš„ç›®å½•</p><p>redis-server.exeï¼šæœåŠ¡ç«¯ï¼Œ å¯åŠ¨åï¼Œä¸è¦å…³é—­</p><p>redis-cli.exeï¼šå®¢æˆ·ç«¯ï¼Œ è®¿é—®redisä¸­çš„æ•°æ®</p><p>redisclient-win32.x86_64.2.0.jar : Rediså›¾å½¢ç•Œé¢å®¢æˆ·ç«¯</p><p>æ‰§è¡Œæ–¹å¼ï¼š åœ¨è¿™ä¸ªæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œ  æ‰§è¡Œ java -jar redisclient-win32.x86_64.2.0.jar</p><p>RedisTemplate ä½¿ç”¨çš„  lettuce å®¢æˆ·ç«¯åº“</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--redisèµ·æ­¥ä¾èµ–ï¼š ç›´æ¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨RedisTemplate(StringRedisTemplate)--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>data-redisä½¿ç”¨çš„   lettuce å®¢æˆ·ç«¯åº“<br><br>åœ¨ç¨‹åºä¸­ä½¿ç”¨RedisTemplateç±»çš„æ–¹æ³• æ“ä½œredisæ•°æ®ï¼Œ å®é™…å°±æ˜¯è°ƒç”¨çš„lettuce å®¢æˆ·ç«¯çš„ä¸­çš„æ–¹æ³•<br><br><br></code></pre></td></tr></table></figure><h2 id="6-2-å¯¹æ¯”-StringRedisTemplate-å’Œ-RedisTemplate"><a href="#6-2-å¯¹æ¯”-StringRedisTemplate-å’Œ-RedisTemplate" class="headerlink" title="6.2 å¯¹æ¯” StringRedisTemplate å’Œ RedisTemplate"></a>6.2 å¯¹æ¯” StringRedisTemplate å’Œ RedisTemplate</h2><p>StringRedisTemplate ï¼š æŠŠkï¼Œv éƒ½æ˜¯ä½œä¸ºStringå¤„ç†ï¼Œ ä½¿ç”¨çš„æ˜¯Stringçš„åºåˆ—åŒ– ï¼Œ å¯è¯»æ€§å¥½</p><p>RedisTemplate ï¼š æŠŠkï¼Œv ç»è¿‡äº†åºåˆ—åŒ–å­˜åˆ°redisã€‚ kï¼Œv æ˜¯åºåˆ—åŒ–çš„å†…å®¹ï¼Œ ä¸èƒ½ç›´æ¥è¯†åˆ«.</p><p>â€‹                                 é»˜è®¤ä½¿ç”¨çš„jdkåºåˆ—åŒ–ï¼Œ å¯ä»¥ä¿®æ”¹ä¸ºå‰æçš„åºåˆ—åŒ–</p><p> åºåˆ—åŒ–ï¼šæŠŠå¯¹è±¡è½¬åŒ–ä¸ºå¯ä¼ è¾“çš„å­—èŠ‚åºåˆ—è¿‡ç¨‹ç§°ä¸ºåºåˆ—åŒ–ã€‚</p><p>ååºåˆ—åŒ–ï¼šæŠŠå­—èŠ‚åºåˆ—è¿˜åŸä¸ºå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºååºåˆ—åŒ–ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦åºåˆ—åŒ–</p><p>åºåˆ—åŒ–æœ€ç»ˆçš„ç›®çš„æ˜¯ä¸ºäº†å¯¹è±¡å¯ä»¥è·¨å¹³å°å­˜å‚¨ï¼Œå’Œè¿›è¡Œç½‘ç»œä¼ è¾“ã€‚è€Œæˆ‘ä»¬è¿›è¡Œè·¨å¹³å°å­˜å‚¨å’Œç½‘ç»œä¼ è¾“çš„æ–¹å¼å°±æ˜¯IOï¼Œè€Œæˆ‘ä»¬çš„IOæ”¯æŒçš„æ•°æ®æ ¼å¼å°±æ˜¯å­—èŠ‚æ•°ç»„ã€‚æˆ‘ä»¬å¿…é¡»åœ¨æŠŠå¯¹è±¡è½¬æˆå­—èŠ‚æ•°ç»„çš„æ—¶å€™å°±åˆ¶å®šä¸€ç§è§„åˆ™ï¼ˆåºåˆ—åŒ–ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»IOæµé‡Œé¢è¯»å‡ºæ•°æ®çš„æ—¶å€™å†ä»¥è¿™ç§è§„åˆ™æŠŠå¯¹è±¡è¿˜åŸå›æ¥ï¼ˆååºåˆ—åŒ–ï¼‰ã€‚</p><p>ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åºåˆ—åŒ–</p><p>é€šè¿‡ä¸Šé¢æˆ‘æƒ³ä½ å·²ç»çŸ¥é“äº†å‡¡æ˜¯éœ€è¦è¿›è¡Œâ€œè·¨å¹³å°å­˜å‚¨â€å’Œâ€ç½‘ç»œä¼ è¾“â€çš„æ•°æ®ï¼Œéƒ½éœ€è¦è¿›è¡Œåºåˆ—åŒ–ã€‚</p><p>æœ¬è´¨ä¸Šå­˜å‚¨å’Œç½‘ç»œä¼ è¾“ éƒ½éœ€è¦ç»è¿‡ æŠŠä¸€ä¸ªå¯¹è±¡çŠ¶æ€ä¿å­˜æˆä¸€ç§è·¨å¹³å°è¯†åˆ«çš„å­—èŠ‚æ ¼å¼ï¼Œç„¶åå…¶ä»–çš„å¹³å°æ‰å¯ä»¥é€šè¿‡å­—èŠ‚ä¿¡æ¯è§£æè¿˜åŸå¯¹è±¡ä¿¡æ¯ã€‚</p><p>åºåˆ—åŒ–çš„æ–¹å¼</p><p>åºåˆ—åŒ–åªæ˜¯ä¸€ç§æ‹†è£…ç»„è£…å¯¹è±¡çš„è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ç§è§„åˆ™è‚¯å®šä¹Ÿå¯èƒ½æœ‰å¤šç§å¤šæ ·ï¼Œæ¯”å¦‚ç°åœ¨å¸¸è§çš„åºåˆ—åŒ–æ–¹å¼æœ‰ï¼š</p><p>JDKï¼ˆä¸æ”¯æŒè·¨è¯­è¨€ï¼‰ã€JSONã€XMLã€Hessianã€Kryoï¼ˆä¸æ”¯æŒè·¨è¯­è¨€ï¼‰ã€Thriftã€Protofbuffã€</p><p>Student( name&#x3D;zs, age&#x3D;20)   â€”-  { â€œnameâ€:â€zsâ€, â€œageâ€:20 }</p><p>javaçš„åºåˆ—åŒ–ï¼š æŠŠjavaå¯¹è±¡è½¬ä¸ºbyte[], äºŒè¿›åˆ¶æ•°æ®</p><p>jsonåºåˆ—åŒ–ï¼šjsonåºåˆ—åŒ–åŠŸèƒ½å°†å¯¹è±¡è½¬æ¢ä¸º JSON æ ¼å¼æˆ–ä» JSON æ ¼å¼è½¬æ¢å¯¹è±¡ã€‚ä¾‹å¦‚æŠŠä¸€ä¸ªStudentå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²{â€œnameâ€:â€æå››â€, â€œageâ€:29} )ï¼Œååºåˆ—åŒ–(å°†JSONå­—ç¬¦ä¸² {â€œnameâ€:â€æå››â€, â€œageâ€:29} è½¬æ¢ä¸ºStudentå¯¹è±¡)</p><p>è®¾ç½®keyæˆ–è€…valueçš„åºåˆ—åŒ–æ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä½¿ç”¨RedisTemplate ï¼Œåœ¨å­˜å–å€¼ä¹‹å‰ï¼Œè®¾ç½®åºåˆ—åŒ–</span><br><span class="hljs-comment">// è®¾ç½® key ä½¿ç”¨Stringçš„åºåˆ—åŒ–</span><br>redisTemplate.setKeySerializer( <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>());<br><br><span class="hljs-comment">// è®¾ç½® value çš„åºåˆ—åŒ–</span><br>redisTemplate.setValueSerializer( <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringRedisSerializer</span>());<br><br>redisTemplate.opsForValue().set(k,v);<br></code></pre></td></tr></table></figure><h1 id="ç¬¬ä¸ƒç« -SpringBooté›†æˆDubbo"><a href="#ç¬¬ä¸ƒç« -SpringBooté›†æˆDubbo" class="headerlink" title="ç¬¬ä¸ƒç«  SpringBooté›†æˆDubbo"></a>ç¬¬ä¸ƒç«  SpringBooté›†æˆDubbo</h1><h2 id="7-1-çœ‹-SpringBootç»§æ‰¿Dubboçš„æ–‡æ¡£"><a href="#7-1-çœ‹-SpringBootç»§æ‰¿Dubboçš„æ–‡æ¡£" class="headerlink" title="7.1  çœ‹ SpringBootç»§æ‰¿Dubboçš„æ–‡æ¡£"></a>7.1  çœ‹ SpringBootç»§æ‰¿Dubboçš„æ–‡æ¡£</h2><p> <a href="https://github.com/apache/dubbo-spring-boot-project/blob/master/README_CN.md">https://github.com/apache/dubbo-spring-boot-project/blob/master/README_CN.md</a></p><h2 id="7-2-å…¬å…±é¡¹ç›®"><a href="#7-2-å…¬å…±é¡¹ç›®" class="headerlink" title="7.2  å…¬å…±é¡¹ç›®"></a>7.2  å…¬å…±é¡¹ç›®</h2><p>ç‹¬ç«‹çš„mavené¡¹ç›®ï¼š å®šä¹‰äº†æ¥å£å’Œæ•°æ®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1901229007746699151L</span>;<br><br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">StudentService</span> &#123;<br><br>    Student <span class="hljs-title function_">queryStudent</span><span class="hljs-params">(Integer id)</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="7-3-æä¾›è€…"><a href="#7-3-æä¾›è€…" class="headerlink" title="7.3  æä¾›è€…"></a>7.3  æä¾›è€…</h2><p>åˆ›å»ºSpringBooté¡¹ç›®</p><p>1ï¼‰ pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--åŠ å…¥å…¬å…±é¡¹ç›®çš„gav--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.bjpowernode<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>022-interface-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--dubboä¾èµ–--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.dubbo<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><br>   <span class="hljs-comment">&lt;!--zookeeperä¾èµ–--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.dubbo<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dubbo-dependencies-zookeeper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>         <span class="hljs-comment">&lt;!-- æ’é™¤log4jä¾èµ– --&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2ï¼‰å®ç°æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ä½¿ç”¨dubboä¸­çš„æ³¨è§£æš´éœ²æœåŠ¡</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Component</span> å¯ä»¥ä¸ç”¨åŠ </span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@DubboService(interfaceClass = StudentService.class,version = &quot;1.0&quot;,timeout = 5000)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">StudentService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Student <span class="hljs-title function_">queryStudent</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        <span class="hljs-keyword">if</span>( <span class="hljs-number">1001</span> == id)&#123;<br>            student.setId(<span class="hljs-number">1001</span>);<br>            student.setName(<span class="hljs-string">&quot;------1001-å¼ ä¸‰&quot;</span>);<br>            student.setAge(<span class="hljs-number">20</span>);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">1002</span>  == id)&#123;<br>            student.setId(<span class="hljs-number">1002</span>);<br>            student.setName(<span class="hljs-string">&quot;#######1002-æå››&quot;</span>);<br>            student.setAge(<span class="hljs-number">22</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> student;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3ï¼‰application.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#é…ç½®æœåŠ¡åç§° dubbo:application name=&quot;åç§°&quot;</span><br><span class="hljs-attr">spring.application.name</span>=<span class="hljs-string">studentservice-provider</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#é…ç½®æ‰«æçš„åŒ…ï¼Œ æ‰«æçš„@DubboService</span><br><span class="hljs-attr">dubbo.scan.base-packages</span>=<span class="hljs-string">com.bjpowernode.service</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#é…ç½®dubboåè®®</span><br><span class="hljs-comment">#dubbo.protocol.name=dubbo</span><br><span class="hljs-comment">#dubbo.protocol.port=20881</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ³¨å†Œä¸­å¿ƒ</span><br><span class="hljs-attr">dubbo.registry.address</span>=<span class="hljs-string">zookeeper://localhost:2181</span><br></code></pre></td></tr></table></figure><p>4)åœ¨å¯åŠ¨ç±»çš„ä¸Šé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDubbo</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProviderApplication</span> &#123;<br><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>      SpringApplication.run(ProviderApplication.class, args);<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-4æ¶ˆè´¹è€…"><a href="#7-4æ¶ˆè´¹è€…" class="headerlink" title="7.4æ¶ˆè´¹è€…"></a>7.4æ¶ˆè´¹è€…</h2><p>åˆ›å»ºSpringBooté¡¹ç›®</p><p>1ï¼‰ pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--åŠ å…¥å…¬å…±é¡¹ç›®çš„gav--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.bjpowernode<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>022-interface-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--dubboä¾èµ–--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.dubbo<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><br>   <span class="hljs-comment">&lt;!--zookeeperä¾èµ–--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.dubbo<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dubbo-dependencies-zookeeper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>         <span class="hljs-comment">&lt;!-- æ’é™¤log4jä¾èµ– --&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºäº†Controller æˆ–è€… Serviceéƒ½å¯ä»¥</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DubboController</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¼•ç”¨è¿œç¨‹æœåŠ¡ï¼Œ æŠŠåˆ›å»ºå¥½çš„ä»£ç†å¯¹è±¡ï¼Œæ³¨å…¥ç»™studentService</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-comment">//@DubboReference(interfaceClass = StudentService.class,version = &quot;1.0&quot;)</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ²¡æœ‰ä½¿ç”¨interfaceClassï¼Œé»˜è®¤çš„å°±æ˜¯ å¼•ç”¨ç±»å‹çš„ æ•°æ®ç±»å‹</span><br><span class="hljs-comment">      */</span><br>    <span class="hljs-meta">@DubboReference(version = &quot;1.0&quot;)</span><br>    <span class="hljs-keyword">private</span> StudentService studentService;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/query&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">queryStudent</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span>   <span class="hljs-operator">=</span> studentService.queryStudent(id);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;è°ƒç”¨è¿œç¨‹æ¥å£ï¼Œè·å–å¯¹è±¡ï¼š&quot;</span>+student;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3ï¼‰application.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#æŒ‡å®šæœåŠ¡åç§°</span><br><span class="hljs-attr">spring.application.name</span>=<span class="hljs-string">consumer-application</span><br><span class="hljs-comment">#æŒ‡å®šæ³¨å†Œä¸­å¿ƒ</span><br><span class="hljs-attr">dubbo.registry.address</span>=<span class="hljs-string">zookeeper://localhost:2181</span><br></code></pre></td></tr></table></figure><h2 id="7-5-ç»ƒä¹ "><a href="#7-5-ç»ƒä¹ " class="headerlink" title="7.5 ç»ƒä¹ "></a>7.5 ç»ƒä¹ </h2><p>ä½¿ç”¨çš„æŠ€æœ¯ï¼š SpringBoot ,Dubbo, Redis, MyBatis</p><p>Studentè¡¨ï¼š</p><p><img src="D:\course\25-SpringBoot\ç¬”è®°\images\image-20210119150418295.png" alt="image-20210119150418295"></p><p>CREATE TABLE <code>student</code> (<br>  <code>id</code> int(11) NOT NULL AUTO_INCREMENT,<br>  <code>name</code> varchar(255) COLLATE utf8_bin DEFAULT NULL,<br>  <code>phone</code> varchar(11) COLLATE utf8_bin DEFAULT NULL,<br>  <code>age</code> int(11) DEFAULT NULL,<br>  PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin;</p><ol><li>æ³¨å†Œå­¦ç”Ÿ</li></ol><p>â€‹     phoneå¿…é¡»å”¯ä¸€ï¼Œ å¦‚æœå·²ç»å­˜åœ¨äº†æ‰‹æœºå·ï¼Œ æ³¨å†Œå¤±è´¥çš„ã€‚ </p><p>â€‹                 int addStudent(Student student);</p><p>â€‹                è¿”å›å€¼ï¼šint</p><p>â€‹                 1ï¼š æ³¨å†ŒæˆåŠŸ</p><p>â€‹                 2 ï¼š æ‰‹æœºå·å·²ç»å­˜åœ¨  </p><p>â€‹                                    </p><p>â€‹      nameè‡³å°‘ä¸¤ä¸ªå­—ç¬¦ï¼Œ</p><p>â€‹      age å¿…é¡» å¤§äº 0 </p><p>2ï¼‰ æŸ¥è¯¢å­¦ç”Ÿï¼Œæ ¹æ®idæŸ¥è¯¢ï¼Œæ­¤å­¦ç”Ÿã€‚ </p><p>â€‹        å…ˆåˆ°redisæŸ¥è¯¢å­¦ç”Ÿï¼Œ å¦‚æœredisæ²¡æœ‰æ­¤å­¦ç”Ÿï¼Œä»æ•°æ®åº“æŸ¥è¯¢ï¼Œ æŠŠæŸ¥è¯¢åˆ°çš„å­¦ç”Ÿæ”¾å…¥åˆ°redisã€‚</p><p>â€‹      åé¢å†æ¬¡æŸ¥è¯¢è¿™ä¸ªå­¦ç”Ÿåº”è¯¥ä»rediså°±èƒ½è·å–åˆ°ã€‚</p><p>â€‹        Student  queryStudent(Integer id);</p><ol start="3"><li>ä½¿ç”¨Dubboæ¡†æ¶ï¼Œ    addStudent, queryStudent æ˜¯æœ‰æœåŠ¡æä¾›è€…å®ç°çš„ã€‚</li></ol><p>â€‹    æ¶ˆè´¹è€…å¯ä»¥æ˜¯ä¸€ä¸ªController ï¼Œ è°ƒç”¨æä¾›è€…çš„ä¸¤ä¸ªæ–¹æ³•ã€‚  å®ç°æ³¨å†Œå’ŒæŸ¥è¯¢ã€‚</p><p>4ï¼‰é¡µé¢ä½¿ç”¨htmlå’Œajaxï¼Œjqueryã€‚</p><p>â€‹       åœ¨htmlé¡µé¢ä¸­æä¾› form æ³¨å†Œå­¦ç”Ÿï¼Œ æä¾›æ–‡æœ¬æ¡†è¾“å…¥idï¼Œè¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>â€‹      æ³¨å†Œå’ŒæŸ¥è¯¢éƒ½ä½¿ç”¨ajaxæŠ€æœ¯ã€‚</p><p>â€‹    htmlï¼Œjquery.jséƒ½æ”¾åˆ°resources&#x2F;staticç›®å½•ä¸­</p><h1 id="ç¬¬å…«ç« -æ‰“åŒ…"><a href="#ç¬¬å…«ç« -æ‰“åŒ…" class="headerlink" title="ç¬¬å…«ç«   æ‰“åŒ…"></a>ç¬¬å…«ç«   æ‰“åŒ…</h1><h2 id="8-1-æ‰“åŒ…war"><a href="#8-1-æ‰“åŒ…war" class="headerlink" title="8.1 æ‰“åŒ…war"></a>8.1 æ‰“åŒ…war</h2><p>1.åˆ›å»ºäº†ä¸€ä¸ªjspåº”ç”¨</p><p>2.ä¿®æ”¹pom.xml</p><p> 1)æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶åç§°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>   <span class="hljs-comment">&lt;!--æ‰“åŒ…åçš„æ–‡ä»¶åç§°--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>myboot<span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2)æŒ‡å®šjspç¼–è¯‘ç›®å½•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--resourcesæ’ä»¶ï¼Œ æŠŠjspç¼–è¯‘åˆ°æŒ‡å®šçš„ç›®å½•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/webapp<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">targetPath</span>&gt;</span>META-INF/resources<span class="hljs-tag">&lt;/<span class="hljs-name">targetPath</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.*<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--ä½¿ç”¨äº†mybatis ï¼Œè€Œä¸”mapperæ–‡ä»¶æ”¾åœ¨src/main/javaç›®å½•--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æŠŠsrc/main/resourcesä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶ï¼Œéƒ½åŒ…å«åˆ°classesç›®å½•--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.*<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3ï¼‰æ‰§è¡Œæ‰“åŒ…æ˜¯war</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ‰“åŒ…ç±»å‹--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br></code></pre></td></tr></table></figure><p>4ï¼‰ä¸»å¯åŠ¨ç±»ç»§æ‰¿SpringBootServletInitializer</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * SpringBootServletInitializer: ç»§æ‰¿è¿™ä¸ªç±»ï¼Œ æ‰èƒ½ä½¿ç”¨ç‹¬ç«‹tomcatæœåŠ¡å™¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JspApplication</span>  <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SpringBootServletInitializer</span>  &#123;<br><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>      SpringApplication.run(JspApplication.class, args);<br>   &#125;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-keyword">protected</span> SpringApplicationBuilder <span class="hljs-title function_">configure</span><span class="hljs-params">(SpringApplicationBuilder builder)</span> &#123;<br>      <span class="hljs-keyword">return</span> builder.sources(JspApplication.class);<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>5ï¼‰éƒ¨ç½²war</p><p> æŠŠwaræ”¾åˆ°tomcatç­‰æœåŠ¡å™¨çš„å‘å¸ƒç›®å½•ä¸­ã€‚  tomcatä¸ºä¾‹ï¼Œ myboot.waræ”¾åˆ°tomcat&#x2F;webappsç›®å½•ã€‚</p><h2 id="8-2-æ‰“åŒ…ä¸ºjar"><a href="#8-2-æ‰“åŒ…ä¸ºjar" class="headerlink" title="8.2 æ‰“åŒ…ä¸ºjar"></a>8.2 æ‰“åŒ…ä¸ºjar</h2><p>1.åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«äº†jspçš„é¡¹ç›®</p><p>2.ä¿®æ”¹pom.xml</p><p>â€‹     1) æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶åç§°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>   <span class="hljs-comment">&lt;!--æ‰“åŒ…åçš„æ–‡ä»¶åç§°--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>myboot<span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">2) æŒ‡å®šspringboot-maven-pluginç‰ˆæœ¬</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-comment">&lt;!--æ‰“åŒ…jarï¼Œ æœ‰jspæ–‡ä»¶æ—¶ï¼Œå¿…é¡»æŒ‡å®šmaven-pluginæ’ä»¶çš„ç‰ˆæœ¬æ˜¯ 1.4.2.RELEASE--&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.2.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3ï¼‰æœ€åæ‰§è¡Œ maven clean package</p><p>â€‹       åœ¨targetç›®å½•ä¸­ï¼Œç”Ÿæˆjar æ–‡ä»¶ï¼Œ ä¾‹å­æ˜¯myboot.jar</p><p>â€‹       æ‰§è¡Œç‹¬ç«‹çš„springbooté¡¹ç›®  åœ¨cmdä¸­ java  -jar  myboot.jar</p><h1 id="ç¬¬ä¹ç« -Thymeleaf-æ¨¡æ¿å¼•æ“"><a href="#ç¬¬ä¹ç« -Thymeleaf-æ¨¡æ¿å¼•æ“" class="headerlink" title="ç¬¬ä¹ç«  Thymeleaf æ¨¡æ¿å¼•æ“"></a>ç¬¬ä¹ç«  Thymeleaf æ¨¡æ¿å¼•æ“</h1><p>Thymeleafï¼š æ˜¯ä½¿ç”¨javaå¼€å‘çš„æ¨¡æ¿æŠ€æœ¯ï¼Œ åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œã€‚ æŠŠå¤„ç†åçš„æ•°æ®å‘é€ç»™æµè§ˆå™¨ã€‚</p><p>â€‹         æ¨¡æ¿æ˜¯ä½œè§†å›¾å±‚å·¥ä½œçš„ã€‚  æ˜¾ç¤ºæ•°æ®çš„ã€‚  Thymeleafæ˜¯åŸºäºHtmlè¯­è¨€ã€‚ Thymleafè¯­æ³•æ˜¯åº”ç”¨åœ¨</p><p>â€‹        htmlæ ‡ç­¾ä¸­ ã€‚ SpringBootæ¡†æ¶é›†æˆThymealeaf,  ä½¿ç”¨Thymeleafä»£æ›¿jspã€‚</p><p>Thymeleaf çš„å®˜æ–¹ç½‘ç«™ï¼š<a href="http://www.thymeleaf.org/">http://www.thymeleaf.org</a><br>Thymeleaf å®˜æ–¹æ‰‹å†Œï¼š<a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html">https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a></p><h2 id="9-1-è¡¨è¾¾å¼"><a href="#9-1-è¡¨è¾¾å¼" class="headerlink" title="9.1 è¡¨è¾¾å¼"></a>9.1 è¡¨è¾¾å¼</h2><ol><li><p>æ ‡å‡†å˜é‡è¡¨è¾¾å¼ </p><p>è¯­æ³•ï¼š  ${key} </p><p>ä½œç”¨ï¼š è·å–keyå¯¹äºçš„æ–‡æœ¬æ•°æ®ï¼Œ  key æ˜¯requestä½œç”¨åŸŸä¸­çš„key ï¼Œ ä½¿ç”¨request.setAttribute(), model.addAttribute()</p><p>åœ¨é¡µé¢ä¸­çš„ htmlæ ‡ç­¾ä¸­ï¼Œ ä½¿ç”¨ th:text&#x3D;â€${key}â€</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ ‡å‡†å˜é‡è¡¨è¾¾å¼:  $&#123;key&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;site&#125;&quot;</span>&gt;</span>keyä¸å­˜åœ¨<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è·å–SysUserå¯¹è±¡ å±æ€§å€¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;myuser.id&#125;&quot;</span>&gt;</span>id<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;myuser.name&#125;&quot;</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;myuser.sex&#125;&quot;</span>&gt;</span>å§“åï¼šmç”·<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;myuser.age&#125;&quot;</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;myuser.getName()&#125;&quot;</span>&gt;</span>è·å–å§“åä½¿ç”¨getXXX<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li><p>é€‰æ‹©å˜é‡è¡¨è¾¾å¼ï¼ˆ æ˜Ÿå·å˜é‡è¡¨è¾¾å¼ï¼‰</p><p>è¯­æ³•ï¼š  *{key}</p><p>ä½œç”¨ï¼š è·å–è¿™ä¸ªkeyå¯¹åº”çš„æ•°æ®ï¼Œ   *{key}éœ€è¦å’Œth:object è¿™ä¸ªå±æ€§ä¸€èµ·ä½¿ç”¨ã€‚</p><p>ç›®çš„æ˜¯ç®€å•è·å–å¯¹è±¡çš„å±æ€§å€¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨ *&#123;&#125; è·å–SysUserçš„å±æ€§å€¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:object</span>=<span class="hljs-string">&quot;$&#123;myuser&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*&#123;id&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*&#123;name&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*&#123;sex&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*&#123;age&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨*&#123;&#125;å®Œæˆçš„è¡¨ç¤º å¯¹è±¡çš„å±æ€§å€¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;*&#123;myuser.name&#125;&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é“¾æ¥è¡¨è¾¾å¼</p><p>è¯­æ³•ï¼š @{url}</p><p>ä½œç”¨ï¼š è¡¨ç¤ºé“¾æ¥ï¼Œ å¯ä»¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;...&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"> , <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;...&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;..&quot;</span>&gt;</span> ,<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;...&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;...&quot;</span>&gt;</span></span></span><br></code></pre></td></tr></table></figure></li></ol><h2 id="9-2-Thymeleafå±æ€§"><a href="#9-2-Thymeleafå±æ€§" class="headerlink" title="9.2  Thymeleafå±æ€§"></a>9.2  Thymeleafå±æ€§</h2><p>å±æ€§æ˜¯æ”¾åœ¨htmlå…ƒç´ ä¸­çš„ï¼Œå°±æ˜¯htmlå…ƒç´ çš„å±æ€§ï¼ŒåŠ å…¥äº†thå‰ç¼€ã€‚  å±æ€§çš„ä½œç”¨ä¸å˜ã€‚    åŠ å…¥ä¸Šthï¼Œ å±æ€§çš„å€¼ç”±æ¨¡æ¿å¼•æ“å¤„ç†äº†ã€‚  åœ¨å±æ€§å¯ä»¥ä½¿ç”¨å˜é‡è¡¨è¾¾å¼</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/loginServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">th:action</span>=<span class="hljs-string">&quot;/loginServlet&quot;</span> <span class="hljs-attr">th:method</span>=<span class="hljs-string">&quot;$&#123;methodAttr&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-3-each"><a href="#9-3-each" class="headerlink" title="9.3 each"></a>9.3 each</h2><p>eachå¾ªç¯ï¼Œ å¯ä»¥å¾ªç¯Listï¼ŒArray</p><p>è¯­æ³•ï¼š</p><p>åœ¨ä¸€ä¸ªhtmlæ ‡ç­¾ä¸­ï¼Œä½¿ç”¨th:each</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string">&quot;é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:$&#123;key&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;é›†åˆå¾ªç¯æˆå‘˜&#125;&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:ä¸¤ä¸ªåç§°éƒ½æ˜¯è‡ªå®šä¹‰çš„ã€‚ â€œå¾ªç¯çš„çŠ¶æ€å˜é‡â€è¿™ä¸ªåç§°å¯ä»¥ä¸å®šä¹‰ï¼Œé»˜è®¤æ˜¯&quot;é›†åˆå¾ªç¯æˆå‘˜Stat&quot;<br><br><br></code></pre></td></tr></table></figure><p>eachå¾ªç¯Map</p><p>åœ¨ä¸€ä¸ªhtmlæ ‡ç­¾ä¸­ï¼Œä½¿ç”¨th:each</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string">&quot;é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:$&#123;key&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;é›†åˆå¾ªç¯æˆå‘˜.key&#125;&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;é›†åˆå¾ªç¯æˆå‘˜.value&#125;&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:ä¸¤ä¸ªåç§°éƒ½æ˜¯è‡ªå®šä¹‰çš„ã€‚ â€œå¾ªç¯çš„çŠ¶æ€å˜é‡â€è¿™ä¸ªåç§°å¯ä»¥ä¸å®šä¹‰ï¼Œé»˜è®¤æ˜¯&quot;é›†åˆå¾ªç¯æˆå‘˜Stat&quot;<br><br>key:mapé›†åˆä¸­çš„key<br>valueï¼šmapé›†åˆkeyå¯¹åº”çš„valueå€¼<br><br></code></pre></td></tr></table></figure><h2 id="9-4-th-if"><a href="#9-4-th-if" class="headerlink" title="9.4 th:if"></a>9.4 th:if</h2><p>â€œth:ifâ€  : åˆ¤æ–­è¯­å¥ï¼Œ å½“æ¡ä»¶ä¸ºtrueï¼Œ æ˜¾ç¤ºhtmlæ ‡ç­¾ä½“å†…ï¼Œ åä¹‹ä¸æ˜¾ç¤º æ²¡æœ‰elseè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">è¯­æ³•ï¼š<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot; 10 &gt; 0 &quot;</span>&gt;</span> æ˜¾ç¤ºæ–‡æœ¬å†…å®¹ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ª th:unless  å’Œ th:ifç›¸åçš„è¡Œä¸º</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">è¯­æ³•ï¼š<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:unless</span>=<span class="hljs-string">&quot; 10 &lt; 0 &quot;</span>&gt;</span> å½“æ¡ä»¶ä¸ºfalseæ˜¾ç¤ºæ ‡ç­¾ä½“å†…å®¹ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¾‹å­ï¼šif</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span> if ä½¿ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;sex==&#x27;m&#x27;&#125;&quot;</span>&gt;</span>æ€§åˆ«æ˜¯ç”·<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;isLogin&#125;&quot;</span>&gt;</span>å·²ç»ç™»å½•ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;age &gt; 20&#125;&quot;</span>&gt;</span>å¹´é¾„å¤§äº20<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--&quot;&quot;ç©ºå­—ç¬¦æ˜¯true--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;name&#125;&quot;</span>&gt;</span>nameæ˜¯â€œâ€<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--nullæ˜¯false--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;isOld&#125;&quot;</span>&gt;</span> isOldæ˜¯null<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>ä¾‹å­ï¼š unless</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>unless: åˆ¤æ–­æ¡ä»¶ä¸ºfalseï¼Œæ˜¾ç¤ºæ ‡ç­¾ä½“å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:unless</span>=<span class="hljs-string">&quot;$&#123;sex==&#x27;f&#x27;&#125;&quot;</span>&gt;</span>æ€§åˆ«æ˜¯ç”·çš„<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:unless</span>=<span class="hljs-string">&quot;$&#123;isLogin&#125;&quot;</span>&gt;</span>ç™»å½•ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:unless</span>=<span class="hljs-string">&quot;$&#123;isOld&#125;&quot;</span>&gt;</span> isOldæ˜¯null <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-5-th-switch"><a href="#9-5-th-switch" class="headerlink" title="9.5  th:switch"></a>9.5  th:switch</h2><p>th:switch å’Œ javaä¸­çš„swithä¸€æ ·çš„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html">è¯­æ³•ï¼š<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:switch</span>=<span class="hljs-string">&quot;è¦æ¯”å¯¹çš„å€¼&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:case</span>=<span class="hljs-string">&quot;å€¼1&quot;</span>&gt;</span><br>        ç»“æœ1<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:case</span>=<span class="hljs-string">&quot;å€¼2&quot;</span>&gt;</span><br>        ç»“æœ2<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:case</span>=<span class="hljs-string">&quot;*&quot;</span>&gt;</span><br>        é»˜è®¤ç»“æœ<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    ä»¥ä¸Šçš„caseåªæœ‰ä¸€ä¸ªè¯­å¥æ‰§è¡Œ<br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-6-th-inline"><a href="#9-6-th-inline" class="headerlink" title="9.6 th:inline"></a>9.6 th:inline</h2><ol><li><p>å†…è”textï¼š  åœ¨htmlæ ‡ç­¾å¤–ï¼Œè·å–è¡¨è¾¾å¼çš„å€¼</p><p>è¯­æ³•ï¼š </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ˜¾ç¤ºå§“åæ˜¯ï¼š[[$&#123;key&#125;]]<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å†…è” text, ä½¿ç”¨å†…è”è¡¨è¾¾å¼æ˜¾ç¤ºå˜é‡çš„å€¼<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:inline</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘æ˜¯[[$&#123;name&#125;]]ï¼Œå¹´é¾„æ˜¯[[$&#123;age&#125;]]<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            æˆ‘æ˜¯<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;name&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>,å¹´é¾„æ˜¯<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;age&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨å†…è”text<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘æ˜¯[[$&#123;name&#125;]],æ€§åˆ«æ˜¯[[$&#123;sex&#125;]]<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†…è”javascript</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html">ä¾‹å­ï¼š<br> <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">th:inline</span>=<span class="hljs-string">&quot;javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">         <span class="hljs-keyword">var</span> myname = [[$&#123;name&#125;]];</span><br><span class="language-javascript">         <span class="hljs-keyword">var</span> myage = [[$&#123;age&#125;]];</span><br><span class="language-javascript"></span><br><span class="language-javascript">         <span class="hljs-comment">//alert(&quot;è·å–çš„æ¨¡æ¿ä¸­æ•°æ® &quot;+ myname + &quot;,&quot;+myage)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;å•å‡»äº‹ä»¶ï¼Œè·å–æ•°æ® &quot;</span>+ myname + <span class="hljs-string">&quot;,&quot;</span>+ [[$&#123;sex&#125;]])</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-7-å­—é¢é‡"><a href="#9-7-å­—é¢é‡" class="headerlink" title="9.7  å­—é¢é‡"></a>9.7  å­—é¢é‡</h2><p>ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ–‡æœ¬å­—é¢é‡: ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;&#x27;æˆ‘æ˜¯&#x27;+$&#123;name&#125;+&#x27;,æˆ‘æ‰€åœ¨çš„åŸå¸‚&#x27;+$&#123;city&#125;&quot;</span>&gt;</span>æ•°æ®æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ•°å­—å­—é¢é‡<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;20&gt;5&#125;&quot;</span>&gt;</span> 20å¤§äº 5<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>       <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>booleanå­—é¢é‡<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;isLogin == true&#125;&quot;</span>&gt;</span>ç”¨æˆ·å·²ç»ç™»å½•ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>       <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>nullå­—é¢é‡<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;myuser != null&#125;&quot;</span>&gt;</span>æœ‰myuseræ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-8-å­—ç¬¦ä¸²è¿æ¥"><a href="#9-8-å­—ç¬¦ä¸²è¿æ¥" class="headerlink" title="9.8  å­—ç¬¦ä¸²è¿æ¥"></a>9.8  å­—ç¬¦ä¸²è¿æ¥</h2><p>è¿æ¥å­—ç¬¦ä¸²æœ‰ä¸¤ç§è¯­æ³•</p><p>1ï¼‰ è¯­æ³•ä½¿ç”¨ å•å¼•å·æ‹¬èµ·æ¥å­—ç¬¦ä¸²  ï¼Œ ä½¿ç”¨ + è¿æ¥å…¶ä»–çš„ å­—ç¬¦ä¸²æˆ–è€…è¡¨è¾¾å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;&#x27;æˆ‘æ˜¯&#x27;+$&#123;name&#125;+&#x27;,æˆ‘æ‰€åœ¨çš„åŸå¸‚&#x27;+$&#123;city&#125;&quot;</span>&gt;</span>æ•°æ®æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2ï¼‰è¯­æ³•ï¼šä½¿ç”¨åŒç«–çº¿ï¼Œ |å­—ç¬¦ä¸²å’Œè¡¨è¾¾å¼|</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;|æˆ‘æ˜¯$&#123;name&#125;,æˆ‘æ‰€åœ¨åŸå¸‚$&#123;city|&quot;</span>&gt;</span><br>    æ˜¾ç¤ºæ•°æ®<br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­—ç¬¦ä¸²è¿æ¥æ–¹å¼1ï¼šä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;&#x27;æˆ‘æ˜¯&#x27;+$&#123;name&#125;+&#x27;,æˆ‘æ‰€åœ¨çš„åŸå¸‚&#x27;+$&#123;city&#125;&quot;</span>&gt;</span>æ•°æ®æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­—ç¬¦ä¸²è¿æ¥æ–¹å¼2ï¼š|å­—ç¬¦ä¸²å’Œè¡¨è¾¾å¼|<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;|æˆ‘æ˜¯$&#123;name&#125;,æ‰€åœ¨åŸå¸‚$&#123;city&#125;,å…¶ä»–äºº$&#123;myuser.name&#125;|&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-9-è¿ç®—ç¬¦"><a href="#9-9-è¿ç®—ç¬¦" class="headerlink" title="9.9 è¿ç®—ç¬¦"></a>9.9 è¿ç®—ç¬¦</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml">ç®—æœ¯è¿ ç®—ï¼š + , - - , * , / , %<br>å…³ç³»æ¯”è¾ƒ : &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )<br>ç›¸ç­‰åˆ¤æ–­ï¼š == , != ( eq , ne )<br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 400px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä½¿ç”¨è¿ç®—ç¬¦<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;age &gt; 10&#125;&quot;</span>&gt;</span>å¹´é¾„å¤§äº 10 <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123; 20 + 30 &#125;&quot;</span>&gt;</span>æ˜¾ç¤ºè¿ç®—ç»“æœ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;myuser == null&#125;&quot;</span>&gt;</span>myuseræ˜¯null<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;myuser eq null&#125;&quot;</span>&gt;</span>myuseræ˜¯null<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;myuser ne null&#125;&quot;</span>&gt;</span>myuserä¸æ˜¯null<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;isLogin == true ? &#x27;ç”¨æˆ·å·²ç»ç™»å½•&#x27; : &#x27;ç”¨æˆ·éœ€è¦ç™»å½•&#x27;&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;isLogin == true ? ( age &gt; 10 ? &#x27;ç”¨æˆ·æ˜¯å¤§äº10çš„&#x27; : &#x27;ç”¨æˆ·å¹´é¾„æ¯”è¾ƒå°&#x27;) : &#x27;ç”¨æˆ·éœ€è¦ç™»å½•&#x27;&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>ä¸‰å…ƒè¿ç®—ç¬¦ï¼š<br> è¡¨è¾¾å¼  ï¼Ÿ trueçš„ç»“æœ : falseçš„ç»“æœ<br><br>ä¸‰å…ƒè¿ç®—ç¬¦å¯ä»¥åµŒå¥—<br><br></code></pre></td></tr></table></figure><h2 id="9-10-å†…ç½®å¯¹è±¡"><a href="#9-10-å†…ç½®å¯¹è±¡" class="headerlink" title="9.10 å†…ç½®å¯¹è±¡"></a>9.10 å†…ç½®å¯¹è±¡</h2><p>æ–‡æ¡£åœ°å€ï¼š<a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#web-context-namespaces-for-requestsession-attributes-etc">https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#web-context-namespaces-for-requestsession-attributes-etc</a>.</p><p>#request è¡¨ç¤º HttpServletRequest</p><p>#session è¡¨ç¤º HttpSessionå¯¹è±¡</p><p>session è¡¨ç¤ºMapå¯¹è±¡çš„ï¼Œ æ˜¯#sessionçš„ç®€å•è¡¨ç¤ºæ–¹å¼ï¼Œ ç”¨æ¥è·å–sessionä¸­æŒ‡å®šçš„keyçš„å€¼</p><p>â€‹               #session.getAttribute(â€œloginnameâ€) &#x3D;&#x3D; session.loginname</p><p>è¿™äº›æ˜¯å†…ç½®å¯¹è±¡ï¼Œå¯ä»¥åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html">ä¾‹å­ï¼š<br> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 350px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å†…ç½®å¯¹è±¡#request,#sessionï¼Œsessionçš„ä½¿ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è·å–ä½œç”¨åŸŸä¸­çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getAttribute(&#x27;requestData&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#session.getAttribute(&#x27;sessionData&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;session.loginname&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä½¿ç”¨å†…ç½®å¯¹è±¡çš„æ–¹æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        getRequestURL=<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getRequestURL()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        getRequestURI=<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getRequestURI()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        getQueryString=<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getQueryString()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        getContextPath=<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getContextPath()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        getServerName=<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getServerName()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        getServerPort=<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#request.getServerPort()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-11-å†…ç½®å·¥å…·ç±»"><a href="#9-11-å†…ç½®å·¥å…·ç±»" class="headerlink" title="9.11 å†…ç½®å·¥å…·ç±»"></a>9.11 å†…ç½®å·¥å…·ç±»</h2><p>å†…ç½®å·¥å…·ç±»å‹ï¼š Thymeleafè‡ªå·±çš„ä¸€äº›ç±»ï¼Œæä¾›å¯¹stringï¼Œ date ï¼Œé›†åˆçš„ä¸€äº›å¤„ç†æ–¹æ³•</p><p>#dates: å¤„ç†æ—¥å™¨çš„å·¥å…·ç±»</p><p>#numbers:å¤„ç†æ•°å­—çš„</p><p>#lists: å¤„ç†listé›†åˆçš„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-left: 350px&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ—¥æœŸç±»å¯¹è±¡ #dates<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.format(mydate )&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.format(mydate,&#x27;yyyy-MM-dd&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.format(mydate,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.year(mydate)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.month(mydate)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.monthName(mydate)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.createNow()&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å†…ç½®å·¥å…·ç±»#numbersï¼Œæ“ä½œæ•°å­—çš„<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#numbers.formatCurrency(mynum)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#numbers.formatDecimal(mynum,5,2)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å†…ç½®å·¥å…·ç±»#strings,æ“ä½œå­—ç¬¦ä¸²<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.toUpperCase(mystr)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.indexOf(mystr,&#x27;power&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.substring(mystr,2,5)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.substring(mystr,2)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.concat(mystr,&#x27;---javaå¼€å‘çš„é»„åŸ”å†›æ ¡---&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.length(mystr)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.length(&#x27;hello&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:unless</span>=<span class="hljs-string">&quot;$&#123;#strings.isEmpty(mystr)&#125;&quot;</span>&gt;</span> mystring ä¸æ˜¯ ç©ºå­—ç¬¦ä¸²  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å†…ç½®å·¥å…·ç±»#lists,æ“ä½œlisté›†åˆ<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#lists.size(mylist)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;#lists.contains(mylist,&#x27;a&#x27;)&#125;&quot;</span>&gt;</span>æœ‰æˆå‘˜a<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;!$&#123;#lists.isEmpty(mylist)&#125;&quot;</span>&gt;</span> list é›†åˆæœ‰å¤šä¸ªæˆå‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å¤„ç†null<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;zoo?.dog?.name&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="9-12-è‡ªå®šä¹‰æ¨¡æ¿"><a href="#9-12-è‡ªå®šä¹‰æ¨¡æ¿" class="headerlink" title="9.12 è‡ªå®šä¹‰æ¨¡æ¿"></a>9.12 è‡ªå®šä¹‰æ¨¡æ¿</h2><p>æ¨¡æ¿æ˜¯å†…å®¹å¤ç”¨ï¼Œ å®šä¹‰ä¸€æ¬¡ï¼Œåœ¨å…¶ä»–çš„æ¨¡æ¿æ–‡ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨ã€‚</p><p>æ¨¡æ¿ä½¿ç”¨ï¼š</p><p>1.å®šä¹‰æ¨¡æ¿</p><p>2.ä½¿ç”¨æ¨¡æ¿</p><p>æ¨¡æ¿å®šä¹‰è¯­æ³•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html">th:fragment=&quot;æ¨¡æ¿è‡ªå®šä¹‰åç§°&quot;<br><br>ä¾‹å¦‚ï¼š<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:fragment</span>=<span class="hljs-string">&quot;head&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>        åŠ¨åŠ›èŠ‚ç‚¹-javaå¼€å‘<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>        www.bjpowernode.com<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¼•ç”¨æ¨¡æ¿è¯­æ³•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html">1) ~&#123;templatename :: selector&#125;<br>   templatename:  æ–‡ä»¶åç§°<br>   selectorï¼š è‡ªå®šä¹‰æ¨¡æ¿åç§°<br>2ï¼‰templatename :: selector<br>   templatename:  æ–‡ä»¶åç§°<br>   selectorï¼š è‡ªå®šä¹‰æ¨¡æ¿åç§°<br><br>å¯¹äºä½¿ç”¨æ¨¡æ¿ï¼šæœ‰åŒ…å«æ¨¡æ¿ï¼ˆth:includeï¼‰ï¼Œ æ’å…¥æ¨¡æ¿(th:insert)<br></code></pre></td></tr></table></figure><h1 id="ç¬¬åç« -æ€»ç»“"><a href="#ç¬¬åç« -æ€»ç»“" class="headerlink" title="ç¬¬åç«  æ€»ç»“"></a>ç¬¬åç«  æ€»ç»“</h1><h2 id="10-1-æ³¨è§£"><a href="#10-1-æ³¨è§£" class="headerlink" title="10.1 æ³¨è§£"></a>10.1 æ³¨è§£</h2><p>Spring + SpringMVC + SpringBoot </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java">åˆ›å»ºå¯¹è±¡çš„ï¼š<br><span class="hljs-meta">@Controller</span>: æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­<br><span class="hljs-meta">@RestController</span>: æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚<br>             ä½œç”¨ï¼šå¤åˆæ³¨è§£æ˜¯<span class="hljs-meta">@Controller</span> , <span class="hljs-meta">@ResponseBody</span>, ä½¿ç”¨è¿™ä¸ªæ³¨è§£ç±»çš„ï¼Œé‡Œé¢çš„æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼                   éƒ½æ˜¯æ•°æ®<br><br><span class="hljs-meta">@Service</span> ï¼š æ”¾åœ¨ä¸šåŠ¡å±‚çš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºserviceå¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨<br><span class="hljs-meta">@Repository</span> : æ”¾åœ¨daoå±‚çš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºdaoå¯¹è±¡ï¼Œæ”¾å…¥åˆ°å®¹å™¨ã€‚ æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œæ˜¯å› ä¸ºç°åœ¨ä½¿ç”¨MyBatisæ¡†               æ¶ï¼Œ  daoå¯¹è±¡æ˜¯MyBatisé€šè¿‡ä»£ç†ç”Ÿæˆçš„ã€‚ ä¸éœ€è¦ä½¿ç”¨<span class="hljs-meta">@Repository</span>ã€ æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨ã€‚<br><span class="hljs-meta">@Component</span>:  æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ­¤ç±»çš„å¯¹è±¡ï¼Œæ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚ <br><br>èµ‹å€¼çš„ï¼š<br><span class="hljs-meta">@Value</span> ï¼š ç®€å•ç±»å‹çš„èµ‹å€¼ï¼Œ ä¾‹å¦‚ åœ¨å±æ€§çš„ä¸Šé¢ä½¿ç”¨<span class="hljs-meta">@Value(&quot;æå››&quot;)</span> <span class="hljs-keyword">private</span> String name<br>          è¿˜å¯ä»¥ä½¿ç”¨<span class="hljs-meta">@Value</span>,è·å–é…ç½®æ–‡ä»¶è€…çš„æ•°æ®ï¼ˆpropertiesæˆ–ymlï¼‰ã€‚ <br>          <span class="hljs-meta">@Value(&quot;$&#123;server.port&#125;&quot;)</span> <span class="hljs-keyword">private</span> Integer port<br><br><span class="hljs-meta">@Autowired</span>: å¼•ç”¨ç±»å‹èµ‹å€¼è‡ªåŠ¨æ³¨å…¥çš„ï¼Œæ”¯æŒbyName, byType. é»˜è®¤æ˜¯byType ã€‚ æ”¾åœ¨å±æ€§çš„ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨æ„é€              æ–¹æ³•çš„ä¸Šé¢ã€‚ æ¨èæ˜¯æ”¾åœ¨æ„é€ æ–¹æ³•çš„ä¸Šé¢<br><span class="hljs-meta">@Qualifer</span>:  ç»™å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œä½¿ç”¨byNameæ–¹å¼ã€‚   <br>            <span class="hljs-meta">@Autowird</span>, <span class="hljs-meta">@Qualifer</span>éƒ½æ˜¯Springæ¡†æ¶æä¾›çš„ã€‚<br><br><span class="hljs-meta">@Resource</span> ï¼š æ¥è‡ªjdkä¸­çš„å®šä¹‰ï¼Œ javax.annotationã€‚ å®ç°å¼•ç”¨ç±»å‹çš„è‡ªåŠ¨æ³¨å…¥ï¼Œ æ”¯æŒbyName, byType.<br>             é»˜è®¤æ˜¯byName, å¦‚æœbyNameå¤±è´¥ï¼Œ å†ä½¿ç”¨byTypeæ³¨å…¥ã€‚ åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨<br><br><br>å…¶ä»–ï¼š<br><span class="hljs-meta">@Configuration</span> ï¼š æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸ªé…ç½®ç±»ï¼Œç›¸å½“äºxmlé…ç½®æ–‡ä»¶<br><br><span class="hljs-meta">@Bean</span>ï¼šæ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œ æŠŠæ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ã€‚<br><br><span class="hljs-meta">@ImportResource</span> ï¼š åŠ è½½å…¶ä»–çš„xmlé…ç½®æ–‡ä»¶ï¼Œ æŠŠæ–‡ä»¶ä¸­çš„å¯¹è±¡æ³¨å…¥åˆ°springå®¹å™¨ä¸­<br><br><span class="hljs-meta">@PropertySource</span> ï¼š è¯»å–å…¶ä»–çš„propertieså±æ€§é…ç½®æ–‡ä»¶<br><br><span class="hljs-meta">@ComponentScan</span>ï¼š æ‰«æå™¨ ï¼ŒæŒ‡å®šåŒ…åï¼Œæ‰«ææ³¨è§£çš„<br><br><span class="hljs-meta">@ResponseBody</span>: æ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œè¡¨ç¤ºæ–¹æ³•çš„è¿”å›å€¼æ˜¯æ•°æ®ï¼Œ ä¸æ˜¯è§†å›¾<br><span class="hljs-meta">@RequestBody</span> : æŠŠè¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼Œè¯»å–å‡ºæ¥ï¼Œ è½¬ä¸ºjavaå¯¹è±¡ä½¿ç”¨ã€‚<br><br><span class="hljs-meta">@ControllerAdvice</span>:  æ§åˆ¶å™¨å¢å¼ºï¼Œ æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œ è¡¨ç¤ºæ­¤ç±»æä¾›äº†æ–¹æ³•ï¼Œå¯ä»¥å¯¹controllerå¢å¼ºåŠŸèƒ½ã€‚<br><br><span class="hljs-meta">@ExceptionHandler</span> : å¤„ç†å¼‚å¸¸çš„ï¼Œæ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢<br><br><span class="hljs-meta">@Transcational</span> :  å¤„ç†äº‹åŠ¡çš„ï¼Œ æ”¾åœ¨serviceå®ç°ç±»çš„<span class="hljs-keyword">public</span>æ–¹æ³•ä¸Šé¢ï¼Œ è¡¨ç¤ºæ­¤æ–¹æ³•æœ‰äº‹åŠ¡<br><br><br>SpringBootä¸­ä½¿ç”¨çš„æ³¨è§£<br>    <br><span class="hljs-meta">@SpringBootApplication</span> ï¼š æ”¾åœ¨å¯åŠ¨ç±»ä¸Šé¢ï¼Œ åŒ…å«äº†<span class="hljs-meta">@SpringBootConfiguration</span><br>                          <span class="hljs-meta">@EnableAutoConfiguration</span>ï¼Œ <span class="hljs-meta">@ComponentScan</span><br><br><br>    <br>MyBatisç›¸å…³çš„æ³¨è§£<br><br><span class="hljs-meta">@Mapper</span> ï¼š æ”¾åœ¨ç±»çš„ä¸Šé¢ ï¼Œ è®©MyBatisæ‰¾åˆ°æ¥å£ï¼Œ åˆ›å»ºä»–çš„ä»£ç†å¯¹è±¡    <br><span class="hljs-meta">@MapperScan</span> :æ”¾åœ¨ä¸»ç±»çš„ä¸Šé¢ ï¼Œ æŒ‡å®šæ‰«æçš„åŒ…ï¼Œ æŠŠè¿™ä¸ªåŒ…ä¸­çš„æ‰€æœ‰æ¥å£éƒ½åˆ›å»ºä»£ç†å¯¹è±¡ã€‚ å¯¹è±¡æ³¨å…¥åˆ°å®¹å™¨ä¸­<br><span class="hljs-meta">@Param</span> ï¼š æ”¾åœ¨daoæ¥å£çš„æ–¹æ³•çš„å½¢å‚å‰é¢ï¼Œ ä½œä¸ºå‘½åå‚æ•°ä½¿ç”¨çš„ã€‚<br>    <br>Dubboæ³¨è§£<br><span class="hljs-meta">@DubboService</span>: åœ¨æä¾›è€…ç«¯ä½¿ç”¨çš„ï¼Œæš´éœ²æœåŠ¡çš„ï¼Œ æ”¾åœ¨æ¥å£çš„å®ç°ç±»ä¸Šé¢<br><span class="hljs-meta">@DubboReference</span>:  åœ¨æ¶ˆè´¹è€…ç«¯ä½¿ç”¨çš„ï¼Œ å¼•ç”¨è¿œç¨‹æœåŠ¡ï¼Œ æ”¾åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨ã€‚<br><span class="hljs-meta">@EnableDubbo</span> : æ”¾åœ¨ä¸»ç±»ä¸Šé¢ï¼Œ è¡¨ç¤ºå½“å‰å¼•ç”¨å¯ç”¨DubboåŠŸèƒ½ã€‚<br>    <br>    <br>    <br>    <br>    <br><br><br>    <br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>IISæœåŠ¡éƒ¨ç½²æµç¨‹</title>
    <link href="/2023/12/22/IIS%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/"/>
    <url>/2023/12/22/IIS%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="IISæœåŠ¡éƒ¨ç½²æµç¨‹"><a href="#IISæœåŠ¡éƒ¨ç½²æµç¨‹" class="headerlink" title="IISæœåŠ¡éƒ¨ç½²æµç¨‹"></a>IISæœåŠ¡éƒ¨ç½²æµç¨‹</h1><p><strong>1å®‰è£…iisåœ¨æœåŠ¡å™¨ç®¡ç†å™¨ç‚¹å‡»æ·»åŠ è§’è‰²å’ŒåŠŸèƒ½</strong></p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214140943439.png" alt="image-20231214140943439" style="zoom:80%;" /><p>2.ç‚¹å‡»ä¸‹ä¸€æ­¥å‹¾é€‰WebæœåŠ¡å™¨ï¼Œã€aspï¼ŒHTTPï¼Œå®‰å…¨ç­‰å…¨éƒ¨å®‰è£…ã€‘ï¼ˆå…ˆå®‰è£…iisã€ådent-&gt;aspè§£æé—®é¢˜ï¼‰</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214141458250.png" alt="image-20231214141458250"></p><p>3.å®‰è£….net frameworkï¼Œå®‰è£…æˆåŠŸåè¿›å…¥æ–‡ä»¶èµ„æºç®¡ç†å™¨ C:\Windows\Microsoft.NET\Framework64</p><p>åˆ†åˆ«è¿›å…¥C:\Windows\Microsoft.NET\Framework64\v4.0.30319</p><p>â€‹              C:\Windows\Microsoft.NET\Framework64\v2.0.50727</p><p>åœ¨æ–‡ä»¶å¤¹åœ°å€è¾“å…¥cmdï¼Œæ‰“å¼€cmdçª—å£ è¾“å…¥aspnet_regiis.exe -i æ³¨å†Œ.net</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214142214684.png" alt="image-20231214142214684"></p><p>4.å³é”®ç‚¹å‡»æ·»åŠ ç½‘ç«™ï¼š</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214142733715.png" alt="image-20231214142733715"></p><p>5.è®¾ç½®ç½‘ç«™IPä¸º*ï¼Œç«¯å£ä¸º80ï¼Œä¿®æ”¹é»˜è®¤æ–‡æ¡£ä¸ºä½ çš„indexç½‘é¡µé¦–é¡µï¼ˆæ³¨æ„é‡å¯iiså’Œwebï¼‰</p><p>6.åœ¨æ·»åŠ çš„webç½‘ç«™ä¸­ æ£€æŸ¥ISAPIç­›é€‰å™¨ä¸­æ˜¯å¦æ·»åŠ æˆåŠŸ.netã€å¤„ç†ç¨‹åºæ˜ å°„ã€è¯·æ±‚ç­›é€‰</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214143025061.png" alt="image-20231214143025061"></p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214143310179.png" alt="image-20231214143310179"></p><p>7.è®¾ç½®é˜¿é‡Œäº‘å®ä¾‹å®‰å…¨ç»„çš„80ç«¯å£å¼€æ”¾ï¼ˆpingæµ‹è¯•åŸŸåè§£æipæ˜¯å¦æˆåŠŸï¼Œæ·»åŠ å®‰å…¨ç»„å…¥ç½‘http80ç«¯å£ï¼‰</p><p>8.åº”ç”¨ç¨‹åºæ± è®¾ç½®ï¼š<strong>å¯ç”¨32ä½åº”ç”¨ç¨‹åºé€‰æ‹©True</strong>ï¼ˆç‰¹åˆ«æ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼å¯èƒ½ä¼šå› ä¸º32ä½å’Œ64ä½ç¨‹åºä¸å…¼å®¹å¯¼è‡´ç½‘é¡µå‡ºé”™ï¼‰</p><p>è¿›ç¨‹æ¨¡å‹ä¸­çš„æ ‡è¯†æ ¹æ®ä½ çš„ç¨‹åºè®¾ç½®é€‰æ‹© ï¼Œä¸€èˆ¬æ˜¯é»˜è®¤çš„</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214144505186.png" alt="image-20231214144505186"></p><p>9.æ‰“å¼€é«˜çº§å®‰å…¨Windowsé˜²ç«å¢™ æ–°å»ºè§„åˆ™ç‚¹å‡»ç«¯å£ï¼Œä¸‹ä¸€æ­¥é€‰æ‹©TCPï¼Œç‰¹å®šç«¯å£æ·»åŠ 80ç«¯å£</p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214145329193.png" alt="image-20231214145329193" style="zoom:67%;" /><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214145528002.png" alt="image-20231214145528002" style="zoom: 67%;" /><h1 id="å‘å¸ƒFTPç«™ç‚¹"><a href="#å‘å¸ƒFTPç«™ç‚¹" class="headerlink" title="å‘å¸ƒFTPç«™ç‚¹"></a>å‘å¸ƒFTPç«™ç‚¹</h1><p>1.æ‰“å¼€è®¡ç®—æœºç®¡ç†ï¼Œç‚¹å‡»æœ¬åœ°ç”¨æˆ·å’Œç»„</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214150053838.png" alt="image-20231214150053838"></p><p>å³é”®æ·»åŠ æ–°ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œé€‰æ‹©å¯†ç æ°¸ä¸è¿‡æœŸï¼Œåˆ›å»º</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214150146125.png" alt="image-20231214150146125"></p><p>ç‚¹å‡»ç»„ï¼Œå³é”®ç‚¹å‡»æ–°å»ºç»„ï¼Œç‚¹å‡»æ·»åŠ ï¼Œé«˜çº§ï¼Œç«‹å³æŸ¥æ‰¾ï¼Œé€‰æ‹©æ–°å»ºçš„ç”¨æˆ·ï¼Œç¡®å®šï¼Œåˆ›å»º</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214150254445.png" alt="image-20231214150254445"></p><p>è¿”å›IISç®¡ç†å™¨ï¼Œå³é”®ç½‘ç«™ï¼Œç‚¹å‡»æ·»åŠ FTPç«™ç‚¹</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214151059250.png" alt="image-20231214151059250"></p><p>è¾“å…¥ç«™ç‚¹åç§°ï¼Œç‰©ç†è·¯å¾„</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214145917293.png" alt="image-20231214145917293"></p><p>é€‰æ‹©é»˜è®¤çš„21ç«¯å£ã€æ— SSLï¼Œä¸‹ä¸€æ­¥</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214145937747.png" alt="image-20231214145937747"></p><p>å‹¾é€‰åŒ¿åå’ŒåŸºæœ¬ï¼Œé€‰æ‹©æŒ‡å®šç”¨æˆ·ï¼Œè¾“å…¥åˆ›å»ºçš„ç”¨æˆ·åï¼Œå®Œæˆ</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214150017302.png" alt="image-20231214150017302"></p><p>å³é”®åˆ›å»ºçš„FTPç«™ç‚¹ï¼Œç¼–è¾‘æƒé™ï¼Œå°†åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ è¿›å»</p><p><img src="C:\Users\496857987\AppData\Roaming\Typora\typora-user-images\image-20231214150355377.png" alt="image-20231214150355377"></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
